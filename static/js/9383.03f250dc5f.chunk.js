!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="3ea30171-58c7-441c-8403-e27a259869a6",e._sentryDebugIdIdentifier="sentry-dbid-3ea30171-58c7-441c-8403-e27a259869a6")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.1 (2024123091)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[9383],{304695:(e,t,r)=>{r.d(t,{V:()=>NetworksFilterItem});var o=r(324586),a=r(839850),n=r(17617),s=r(490343),i=r(831085),c=["networkImageUri","networkName","isSelected","tooltipContent","disabled"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function NetworksFilterItem(e){var{networkImageUri:t,networkName:r,isSelected:o,tooltipContent:l,disabled:p}=e,d=(0,a.A)(e,c),m=(0,i.jsxs)(s.XStack,_objectSpread(_objectSpread(_objectSpread(_objectSpread({justifyContent:"center",px:"$3",py:"$1.5",borderRadius:"$2",userSelect:"none",borderWidth:n.A.hairlineWidth,borderColor:o?"$borderActive":"$border"},!o&&!p&&{focusable:!0,hoverStyle:{bg:"$bgStrongHover"},pressStyle:{bg:"$bgStrongActive"},focusVisibleStyle:{outlineWidth:2,outlineStyle:"solid",outlineColor:"$focusRing"}}),p&&{opacity:.5}),d),{},{children:[t?(0,i.jsx)(s.Image,{height:"$6",width:"$6",borderRadius:"$full",$gtMd:{height:"$5",width:"$5"},children:(0,i.jsx)(s.Image.Source,{source:{uri:t}})}):null,r?(0,i.jsx)(s.SizableText,{numberOfLines:1,color:o?"$text":"$textSubdued",size:"$bodyLgMedium",$gtMd:{size:"$bodyMdMedium"},children:r}):null]}));return l?(0,i.jsx)(s.Tooltip,{renderContent:l,placement:"top",renderTrigger:m,"data-sentry-element":"Tooltip","data-sentry-component":"NetworksFilterItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/NetworksFilterItem/index.tsx"}):m}},793437:(e,t,r)=>{r.d(t,{X:()=>OpenInAppButton});var o=r(586330),a=r(514041),n=r(908867),s=r(17617),i=r(490343),c=r(889949),l=r(726130),p=r(334439),d=r(663522),m=r(117746),u=r(911998),k=r(831085);function OpenInAppButton({buildDeepLinkUrl:e,buildFullUrl:t}){var r=(0,n.A)(),{result:f}=(0,u.yk)((0,o.A)((function*(){var t=e();return(yield m.Ay.linkingCanOpenURL(t))?t:""})),[e]),y=((0,a.useMemo)((function(){return d.Ay.isWebMobile?d.Ay.isWebMobileAndroid?"Open by OneKey Android":d.Ay.isWebMobileIOS?"Open by OneKey iOS":void 0:"Open by OneKey Desktop"}),[]),(0,a.useCallback)((0,o.A)((function*(){var e=yield t();i.Dialog.show({title:r.formatMessage({id:p.ETranslations.open_in_mobile_app}),floatingPanelProps:{overflow:"hidden"},renderContent:(0,k.jsxs)(i.Stack,{children:[(0,k.jsx)(i.Stack,{alignItems:"center",justifyContent:"center",overflow:"hidden",children:(0,k.jsx)(i.Stack,{p:"$4",borderRadius:"$6",borderCurve:"continuous",borderWidth:s.A.hairlineWidth,borderColor:"$borderSubdued",children:(0,k.jsx)(i.QRCode,{value:e,logo:c,logoSize:40,size:224})})}),(0,k.jsxs)(i.XStack,{m:"$-5",mt:"$5",py:"$4",px:"$5",backgroundColor:"$bgSubdued",alignItems:"center",children:[(0,k.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",flex:1,children:r.formatMessage({id:p.ETranslations.dont_have_mobile_app_yet})}),(0,k.jsx)(i.Button,{size:"small",onPress:function(){(0,m.Dr)(l.A8)},children:r.formatMessage({id:p.ETranslations.global_download})})]})]}),showFooter:!1})})),[t,r]));return(0,k.jsx)(i.Button,{size:"small",onPress:y,"data-sentry-element":"Button","data-sentry-component":"OpenInAppButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/OpenInAppButton/index.tsx",children:r.formatMessage({id:p.ETranslations.open_in_mobile_app})})}},292600:(e,t,r)=>{r.d(t,{O:()=>ReviewControl,T:()=>useReviewControl});var o=r(471169),a=r(663522),useReviewControl=function(){var[{reviewControl:e}]=(0,o.useSettingsPersistAtom)();return!a.Ay.isAppleStoreEnv&&!a.Ay.isMas||Boolean(e)},ReviewControl=function({children:e}){return useReviewControl()?e:null}},921997:(e,t,r)=>{r.d(t,{V:()=>TradingView});var o=r(324586),a=r(839850),n=r(490343),s=r(514041),i=r(185339),c=(r(663522),r(886738)),l=r(825903),p={bn:"en",de:"de",en:"en","en-US":"en",es:"es","fr-FR":"fr","hi-IN":"en",id:"id","it-IT":"it","ja-JP":"ja","ko-KR":"ko",pt:"pt","pt-BR":"pt",ru:"ru","th-TH":"th","uk-UA":"ru",vi:"vi","zh-CN":"zh_CN","zh-HK":"zh_HK","zh-TW":"zh_TW"},useTradingViewProps=function({identifier:e,baseToken:t,targetToken:r}){var{md:o}=(0,n.useMedia)(),a=(0,l.YE)(),[d,m,u,k,f,y,h]=(0,n.useThemeValue)(["$bgApp","$bgSubdued","$text","$textDisabled","$icon","$bgBackdrop","$bgHover"],void 0,!0),g=(0,c.L)(),w=(0,i.H4)();return(0,s.useMemo)((function(){var o=p[g]||"en",n=w[0].timeZone||"Etc/UTC",s={show_popup_button:"false",autosize:"true",symbol:`${e.toUpperCase()}:${t.toUpperCase()}${r.toUpperCase()}`,timezone:n,theme:a,style:"1",gridColor:"rgba(255, 255, 255, 0)",locale:o,interval:"15",hide_legend:"true",allow_symbol_change:"false",save_image:"false",withdateranges:"false",calendar:"false",hide_volume:"true",hide_side_toolbar:"1",support_host:"https://www.tradingview.com",adaptive_logo:"false",isTransparent:"true",backgroundColor:d},i=`#${JSON.stringify(s)}`,c=`https://www.tradingview-widget.com/embed-widget/advanced-chart/${`?t=${Date.now()}&locale=${o}`}${i}`;return{uri:c}}),[g,w,e,t,r,a,d,u,k,f,m,h,o,y])},d=r(482407),m=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var MDHiddenBorder=function(){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.Stack,{h:1,w:"100%",bg:"$bgApp",top:-14,left:0,position:"absolute","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx"}),(0,m.jsx)(n.Stack,{h:1,w:"100%",bg:"$bgApp",top:28,left:0,position:"absolute","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx"}),(0,m.jsx)(n.Stack,{h:1,w:"100%",bg:"$bgApp",bottom:14,left:0,position:"absolute","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx"}),(0,m.jsx)(n.Stack,{h:"100%",w:1,bg:"$bgApp",top:-14,left:0,position:"absolute","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx"}),(0,m.jsx)(n.Stack,{h:"100%",w:1,bg:"$bgApp",top:-14,right:0,position:"absolute","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx"})]})},HiddenBorder=function(){return null};function WebView({tradingViewProps:e,style:t,onLoadEnd:r}){var o=(0,s.useMemo)((function(){return(0,d.lk)()}),[]);(0,s.useEffect)((function(){var t=document.getElementById(o);t&&e.uri&&(t.onload=function(){setTimeout((function(){r()}),800)}),setTimeout((function(){r()}),3500)}),[o,r,e.uri]);var{gtMd:a}=(0,n.useMedia)();return(0,m.jsxs)("div",{style:_objectSpread(_objectSpread({},t),{},{position:"relative"}),"data-sentry-component":"WebView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/WebView.tsx",children:[(0,m.jsx)("iframe",{id:o,src:e.uri,style:_objectSpread({height:"100%",width:"100%",border:0},a?void 0:{position:"relative",top:-14}),frameBorder:"0",title:"TradingView",sandbox:"allow-orientation-lock allow-scripts\tallow-top-navigation allow-top-navigation-by-user-activation allow-same-origin allow-popups"}),a?(0,m.jsx)(HiddenBorder,{}):(0,m.jsx)(MDHiddenBorder,{})]})}var u=["targetToken","identifier","baseToken"];function TradingView_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function TradingView_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TradingView_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TradingView_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TradingView(e){var[t,r]=(0,n.usePropsAndStyle)(e),o=t,{targetToken:s,identifier:i,baseToken:c}=o,l=(0,a.A)(o,u),p=useTradingViewProps({targetToken:s,identifier:i,baseToken:c});return(0,m.jsx)(n.Stack,{bg:"$bgApp",style:r,"data-sentry-element":"Stack","data-sentry-component":"TradingView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/index.tsx",children:(0,m.jsx)(WebView,TradingView_objectSpread(TradingView_objectSpread({tradingViewProps:p,style:{flex:1}},l),{},{"data-sentry-element":"WebView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/components/TradingView/index.tsx"}))})}},714718:(e,t,r)=>{r.d(t,{A:()=>useFormatDate});var o=r(514041),a=r(243915),n=r(152111),s=r(724726),i=r(584941),c=r(121684),l=r(567807),p=r(886738);function useFormatDate(){var e=(0,p.L)(),t=(0,o.useCallback)((function(t,r){var o;o="string"==typeof t?(0,a.A)(t):t;try{return(0,n.A)(o,null!=r?r:"PPp",{locale:(0,l.mw)(e)})}catch(e){return"-"}}),[e]),r=(0,o.useCallback)((function(r,o){var n,s;s="string"==typeof r?(0,a.A)(r):r;var i=(new Date).getFullYear(),c=(new Date).getMonth(),l="yyyy/LL/dd, HH:mm";return["de","es","en-US","fr-FR","it-IT","uk-UA"].includes(e)&&(l="LL/dd/yyyy, HH:mm"),(i===s.getFullYear()&&o?.hideTheYear||o?.hideYear)&&(l=(l=l.replace("yyyy/","")).replace("/yyyy","")),(c===s.getMonth()&&o?.hideTheMonth||o?.hideMonth)&&(l=l.replace("LL/","")),o?.hideTimeForever&&(l=l.replace(", HH:mm","")),o?.onlyTime&&(l="HH:mm"),null!=(n=t(s,l))?n:""}),[t,e]),d=(0,o.useCallback)((function(e,r){var o,n,s;return n="string"==typeof e?(0,a.A)(e):e,(new Date).getFullYear()===n.getFullYear()&&r?.hideTheYear||r?.hideYear?null!=(s=t(n,"MMMM"))?s:"":null!=(o=t(n,"MMMM, yyyy"))?o:""}),[t]),m=(0,o.useCallback)((function(t,r){var o;return null!=(o=(0,s.A)(t,r,{locale:(0,l.mw)(e)}))?o:""}),[e]),u=(0,o.useCallback)((function(t){var r;return null!=(r=(0,i.A)(t,{addSuffix:!0,locale:(0,l.mw)(e)}))?r:""}),[e]),k=(0,o.useCallback)((function(t){var r;return null!=(r=(0,c.A)(t,{locale:(0,l.mw)(e)}))?r:""}),[e]);return(0,o.useMemo)((function(){return{format:t,formatDate:r,formatMonth:d,formatDistanceToNow:u,formatDuration:k,formatDistanceStrict:m}}),[t,r,d,u,k,m])}},639563:(e,t,r)=>{r.d(t,{HM:()=>l,V8:()=>d,oV:()=>p});var o,a,n,s=r(586330),i=r(117746),c=r(643087),l=(o=(0,s.A)((function*({networkId:e,address:t}){if(e&&t){var r={networkId:e,param:t,type:"address"},o=yield c.A.serviceExplorer.buildExplorerUrl(r);(0,i.GE)(o)}})),function openExplorerAddressUrl(e){return o.apply(this,arguments)}),p=(a=(0,s.A)((function*({networkId:e,txid:t}){if(e&&t){var r={networkId:e,param:t,type:"transaction"},o=yield c.A.serviceExplorer.buildExplorerUrl(r);(0,i.GE)(o)}})),function openTransactionDetailsUrl(e){return a.apply(this,arguments)}),d=(n=(0,s.A)((function*({networkId:e,tokenAddress:t}){if(e&&t){var r={networkId:e,param:t,type:"token"},o=yield c.A.serviceExplorer.buildExplorerUrl(r);(0,i.GE)(o)}})),function openTokenDetailsUrl(e){return n.apply(this,arguments)})},409383:(e,t,r)=>{r.r(t),r.d(t,{default:()=>MarketDetailWithProvider});var o=r(324586),a=r(586330),n=r(514041),s=r(654266),i=r(490343),c=r(471169),l=r(211129),p=r(351453),d=r(663522),m=r(193068),u=r(584186),k=r(796151),f=r(714191),y=r(643087),h=r(904121),g=r(793437),w=r(498356),b=r(911998),x=r(241440),v=r(908867),M=r(334439),S=r(567807),j=r(839850),D=r(831085),P=["children"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var T=6;function ViewMoreText(e){var{children:t}=e,r=(0,j.A)(e,P),o=(0,v.A)(),[a,s]=(0,n.useState)(0),[c,l]=(0,n.useState)(T),p=(0,n.useRef)(0),d=(0,n.useCallback)((function({nativeEvent:{layout:{height:e}}}){p.current||(p.current=e,s((function(e){return e+1})))}),[]),m=(0,n.useRef)(0),u=(0,n.useCallback)((function({nativeEvent:{layout:{height:e}}}){m.current||(m.current=e),s((function(e){return e+1}))}),[]),k=m.current<p.current,f=(0,n.useCallback)((function(){l((function(e){return e?void 0:T}))}),[]),y=a<2;return(0,D.jsxs)(i.YStack,{"data-sentry-element":"YStack","data-sentry-component":"ViewMoreText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:[(0,D.jsxs)(i.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:[(0,D.jsx)(i.Stack,{onLayout:u,"data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:(0,D.jsx)(i.SizableText,_objectSpread(_objectSpread({size:"$bodyMd",numberOfLines:c},r),{},{"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketAbout.tsx",children:t}))}),k?(0,D.jsx)(i.Button,{size:"medium",variant:"secondary",onPress:f,$gtMd:{size:"small"},children:o.formatMessage({id:c?M.ETranslations.global_view_more:M.ETranslations.global_view_less})}):null]}),y?(0,D.jsx)(i.Stack,{onLayout:d,opacity:0,position:"absolute",left:0,top:0,children:(0,D.jsx)(i.SizableText,_objectSpread(_objectSpread({size:"$bodyMd"},r),{},{children:t}))}):null]})}function MarketAbout({children:e}){var t=(0,v.A)();return e?(0,D.jsxs)(i.YStack,{gap:"$3",pt:"$10",children:[(0,D.jsx)(i.SizableText,{size:"$headingSm",children:t.formatMessage({id:M.ETranslations.global_about})}),(0,D.jsx)(ViewMoreText,{color:"$textSubdued",children:e})]}):null}var O=r(880590),$=r(639563);function MarketTokenAddress({tokenName:e,address:t,uri:r,networkId:o,tokenNameColor:s,tokenNameSize:c="$bodyMdMedium",addressSize:l="$bodyMd"}){var p=(0,v.A)(),{copyText:d}=(0,i.useClipboard)(),{result:m}=(0,b.yk)((function(){return y.A.serviceNetwork.getNetwork({networkId:o})}),[o],{checkIsFocused:!1,overrideIsFocused:function(){return!1}}),u=(0,i.useDialogInstance)(),k=(0,n.useCallback)((0,a.A)((function*(){(0,$.HM)({networkId:o,address:t})})),[u,o,t]),f=(0,n.useCallback)((function(){return r?(0,D.jsx)(i.Image,{size:"$5",src:decodeURIComponent(r),borderRadius:"$full"}):o?(0,D.jsx)(O.um,{size:"$5",networkId:o}):(0,D.jsx)(i.Stack,{width:"$5",height:"$5",ai:"center",jc:"center",bg:"$bgStrong",borderRadius:"$full",children:(0,D.jsx)(i.Icon,{size:"$2.5",name:"PlaceholderSolid"})})}),[o,r]);return(0,D.jsxs)(i.XStack,{gap:"$1.5",ai:"center","data-sentry-element":"XStack","data-sentry-component":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:[f(),(0,D.jsxs)(i.XStack,{gap:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:[(0,D.jsx)(i.SizableText,{color:s,size:c,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:`${e||m?.name||""}:`}),(0,D.jsx)(i.SizableText,{size:l,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx",children:`${t.slice(0,6)}...${t.slice(t.length-4,t.length)}`})]}),(0,D.jsx)(i.IconButton,{title:p.formatMessage({id:M.ETranslations.global_copy}),variant:"tertiary",color:"$iconSubdued",icon:"Copy3Outline",size:"small",iconSize:"$4",onPress:function(){return d(t)},"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx"}),(0,D.jsx)(i.IconButton,{title:p.formatMessage({id:M.ETranslations.global_view_in_blockchain_explorer}),variant:"tertiary",color:"$iconSubdued",icon:"OpenOutline",size:"small",iconSize:"$4",onPress:k,"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenAddress.tsx"})]})}var I=4;function MarketDetailOverviewContract({detailPlatforms:e}){var t=(0,v.A)(),r=(0,n.useMemo)((function(){return e?Object.keys(e).filter((function(t){return!!t&&!e[t].hideContractAddress})):[]}),[e]),o=r.length<=I,[a,s]=(0,n.useState)(o),c=(0,n.useCallback)((function(){s((function(e){return!e}))}),[]),l=(0,n.useMemo)((function(){return a?r:r.slice(0,I)}),[a,r]);return e&&r.length?(0,D.jsxs)(i.YStack,{pt:"$3",gap:"$3",children:[(0,D.jsx)(i.SizableText,{color:"$textSubdued",size:"$bodySm",children:t.formatMessage({id:M.ETranslations.global_contract})}),l.map((function(t){var r=e[t];return(0,D.jsx)(MarketTokenAddress,{tokenNameSize:"$bodyMd",tokenNameColor:"$textSubdued",addressSize:"$bodyMdMedium",networkId:r.onekeyNetworkId,address:r.contract_address},t)})),o?null:(0,D.jsx)(i.Button,{size:"medium",variant:"secondary",onPress:c,$gtMd:{size:"small"},children:t.formatMessage({id:a?M.ETranslations.global_view_less:M.ETranslations.global_view_more})})]}):null}var _=r(378302),C=r(781889);function OverviewPriceChange({title:e,children:t}){return(0,D.jsxs)(i.YStack,{alignItems:"center",flexBasis:0,flexGrow:1,"data-sentry-element":"YStack","data-sentry-component":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(i.SizableText,{color:"$textSubdued",size:"$bodySm","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:e}),(0,D.jsx)(C.E,{size:"$bodyMdMedium",width:"100%",textAlign:"center","data-sentry-element":"PriceChangePercentage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:t})]})}function Overview24PriceChange({name:e,symbol:t,currentPrice:r,low:o,high:a,lastUpdated:s}){var l=(0,v.A)(),[p]=(0,c.useSettingsPersistAtom)(),d=p.currencyInfo.symbol,m=(0,_.u)({name:e,symbol:t,price:r,lastUpdated:new Date(s).getTime()}),u=Math.min(Number(o),Number(m)),k=Math.max(Number(a),Number(m)),f=(0,n.useMemo)((function(){var e=new x.A(m);if(!e.isNaN()){var t=new x.A(u),r=new x.A(k);return Number(e.minus(t).div(r.minus(t)).shiftedBy(2).toFixed(2))}}),[m,u,k]);return(0,D.jsxs)(i.YStack,{gap:"$2.5","data-sentry-element":"YStack","data-sentry-component":"Overview24PriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:l.formatMessage({id:M.ETranslations.market_24h_price_range})}),void 0!==f?(0,D.jsx)(i.Progress,{value:f,height:"$1"}):null,(0,D.jsxs)(i.XStack,{jc:"space-between","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsxs)(i.XStack,{gap:"$1","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(i.SizableText,{color:"$textSubdued",size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:l.formatMessage({id:M.ETranslations.market_low})}),(0,D.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:"price",formatterOptions:{currency:d},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:u})]}),(0,D.jsxs)(i.XStack,{gap:"$1","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(i.SizableText,{color:"$textSubdued",size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:l.formatMessage({id:M.ETranslations.market_high})}),(0,D.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:"price",formatterOptions:{currency:d},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:k})]})]})]})}function OverviewMarketVOLItem({title:e,rank:t,children:r,currency:o,tooltip:a,formatter:n="marketCap"}){var[s]=(0,c.useSettingsPersistAtom)();return(0,D.jsxs)(i.YStack,{pb:"$3",flexBasis:0,flexGrow:1,borderColor:"$borderSubdued",borderBottomWidth:"$px","data-sentry-element":"YStack","data-sentry-component":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(i.SizableText,{color:"$textSubdued",size:"$bodySm","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:e}),(0,D.jsxs)(i.XStack,{gap:"$1",ai:"center",pt:"$0.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:n,formatterOptions:o?{currency:s.currencyInfo.symbol}:void 0,"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:r}),t?(0,D.jsx)(i.SizableText,{size:"$bodySm",bg:"$bgStrong",color:"$textSubdued",borderRadius:"$1",px:"$1",children:`#${t}`}):null,a?(0,D.jsx)(i.Popover.Tooltip,{title:e,tooltip:a}):null]})]})}function OverviewMarketVOL({symbol:e,currentPrice:t,fdv:r,volume24h:o,marketCap:a,marketCapRank:s,maxSupply:l,totalSupply:p,circulatingSupply:d,detailPlatforms:m,atl:u,ath:k}){var[f]=(0,c.useSettingsPersistAtom)(),y=(0,v.A)(),h=(0,n.useMemo)((function(){return(0,x.A)(k.value).minus(t).dividedBy(k.value).multipliedBy(100).toFixed(4)}),[k.value,t]),g=(0,n.useMemo)((function(){return(0,x.A)(t).minus(u.value).dividedBy(u.value).multipliedBy(100).toFixed(4)}),[u.value,t]),w=(0,n.useMemo)((function(){return e.toUpperCase()}),[e]);return(0,D.jsxs)(i.YStack,{pt:"$10","data-sentry-element":"YStack","data-sentry-component":"OverviewMarketVOL","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsxs)(i.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(OverviewMarketVOLItem,{currency:!0,title:y.formatMessage({id:M.ETranslations.market_24h_vol_usd}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:o||"-"}),(0,D.jsx)(OverviewMarketVOLItem,{currency:!0,title:y.formatMessage({id:M.ETranslations.global_market_cap}),rank:s,"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:a||"-"})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(OverviewMarketVOLItem,{currency:!0,title:y.formatMessage({id:M.ETranslations.global_fdv}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:r||"-"}),(0,D.jsx)(OverviewMarketVOLItem,{title:y.formatMessage({id:M.ETranslations.global_circulating_supply}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:d||"-"})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(OverviewMarketVOLItem,{title:y.formatMessage({id:M.ETranslations.global_total_supply}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:p||"-"}),(0,D.jsx)(OverviewMarketVOLItem,{title:y.formatMessage({id:M.ETranslations.global_max_supply}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:l||"∞"})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(OverviewMarketVOLItem,{currency:!0,title:y.formatMessage({id:M.ETranslations.market_all_time_high}),formatter:"price",tooltip:y.formatMessage({id:M.ETranslations.market_ath_desc},{token:w,time:(0,S._Q)(new Date(k.time)),price:(0,D.jsx)(i.NumberSizeableText,{formatter:"price",formatterOptions:{currency:f.currencyInfo.symbol},children:k.value}),percent:(0,D.jsx)(i.NumberSizeableText,{formatter:"priceChange",children:h})}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:k.value}),(0,D.jsx)(OverviewMarketVOLItem,{currency:!0,title:y.formatMessage({id:M.ETranslations.market_all_time_low}),formatter:"price",tooltip:y.formatMessage({id:M.ETranslations.market_atl_desc},{token:w,time:(0,S._Q)(new Date(u.time)),price:(0,D.jsx)(i.NumberSizeableText,{formatter:"price",formatterOptions:{currency:f.currencyInfo.symbol},children:u.value}),percent:(0,D.jsx)(i.NumberSizeableText,{formatter:"priceChange",children:g})}),"data-sentry-element":"OverviewMarketVOLItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:u.value})]})]}),(0,D.jsx)(MarketDetailOverviewContract,{detailPlatforms:m,"data-sentry-element":"MarketDetailOverviewContract","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx"})]})}function MarketDetailOverview({token:{name:e,symbol:t,detailPlatforms:r,stats:{atl:o,ath:a,maxSupply:n,totalSupply:s,circulatingSupply:c,currentPrice:l,lastUpdated:p,performance:d,volume24h:m,marketCap:u,marketCapRank:k,fdv:f,low24h:y,high24h:h},about:g}}){var w=(0,v.A)();return(0,D.jsx)(i.NestedScrollView,{"data-sentry-element":"NestedScrollView","data-sentry-component":"MarketDetailOverview","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:(0,D.jsxs)(i.YStack,{pb:"$10",$md:{px:"$5"},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsxs)(i.XStack,{borderWidth:"$px",borderRadius:"$2",borderColor:"$borderSubdued",py:"$3",my:"$6","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:[(0,D.jsx)(OverviewPriceChange,{title:w.formatMessage({id:M.ETranslations.market_1d}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:d.priceChangePercentage24h}),(0,D.jsx)(OverviewPriceChange,{title:w.formatMessage({id:M.ETranslations.market_1w}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:d.priceChangePercentage7d}),(0,D.jsx)(OverviewPriceChange,{title:w.formatMessage({id:M.ETranslations.market_1m}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:d.priceChangePercentage30d}),(0,D.jsx)(OverviewPriceChange,{title:w.formatMessage({id:M.ETranslations.market_1y}),"data-sentry-element":"OverviewPriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:d.priceChangePercentage1y})]}),(0,D.jsx)(Overview24PriceChange,{name:e,symbol:t,currentPrice:l,low:y,high:h,lastUpdated:p,"data-sentry-element":"Overview24PriceChange","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx"}),(0,D.jsx)(OverviewMarketVOL,{symbol:t,volume24h:m,currentPrice:l,fdv:f,marketCap:u,ath:a,atl:o,marketCapRank:k,maxSupply:n,totalSupply:s,circulatingSupply:c,detailPlatforms:r,"data-sentry-element":"OverviewMarketVOL","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx"}),(0,D.jsx)(MarketAbout,{"data-sentry-element":"MarketAbout","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailOverview.tsx",children:g})]})})}var A=r(217715),z=r(172120),E=r(202338),N=r(292600),L=r(123890);function MarketTradeButton({token:e}){var t=(0,v.A)(),{onSwap:r,onStaking:o,onBuy:s,onSell:c,canStaking:l}=(0,L.zl)(e),p=(0,L.KY)(e),d=(0,L.Hr)(p,e.symbol),{tokenAddress:m=""}=p||{},u=(0,n.useMemo)((function(){return[{items:[{icon:"MinusLargeSolid",label:t.formatMessage({id:M.ETranslations.global_sell}),onPress:c}]}]}),[t,c]),{result:k,isLoading:f}=(0,b.yk)((0,a.A)((function*(){if(d){var e=m,[t,r]=yield Promise.all([y.A.serviceFiatCrypto.isTokenSupported({networkId:d,tokenAddress:e,type:"buy"}),y.A.serviceFiatCrypto.isTokenSupported({networkId:d,tokenAddress:e,type:"sell"})]);return{buy:!!t,sell:!!r}}return{buy:!1,sell:!1}})),[d,m],{watchLoading:!0,initResult:{buy:!1,sell:!1}}),h=(0,n.useCallback)((function(){r()}),[r]);return(0,D.jsx)(i.XStack,{$gtMd:{mt:"$6"},ai:"center",gap:"$4","data-sentry-element":"XStack","data-sentry-component":"MarketTradeButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTradeButton.tsx",children:f?(0,D.jsx)(i.Skeleton,{width:"100%",height:38}):(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.XStack,{gap:"$2.5",flex:1,children:[(0,D.jsx)(i.Button,{flex:1,variant:"primary",onPress:h,children:t.formatMessage({id:M.ETranslations.global_trade})}),l?(0,D.jsx)(i.Button,{flex:1,variant:"secondary",onPress:o,children:t.formatMessage({id:M.ETranslations.earn_stake})}):null,k.buy?(0,D.jsx)(N.O,{children:(0,D.jsx)(i.Button,{flex:1,variant:"secondary",onPress:s,children:t.formatMessage({id:M.ETranslations.global_buy})})}):null]}),k.sell?(0,D.jsx)(N.O,{children:(0,D.jsx)(i.ActionList,{title:e.symbol.toUpperCase()||"",renderTrigger:(0,D.jsx)(i.IconButton,{title:t.formatMessage({id:M.ETranslations.global_more}),icon:"DotVerSolid",variant:"tertiary",iconSize:"$5"}),sections:u})}):null]})})}var X=r(117746);function MarketDetailLinks({token:{links:{discordUrl:e,homePageUrl:t,telegramUrl:r,twitterUrl:o,whitepaper:a},explorers:n}}){var s=(0,v.A)();return(0,D.jsx)(i.NestedScrollView,{contentContainerStyle:{minHeight:"101%"},"data-sentry-element":"NestedScrollView","data-sentry-component":"MarketDetailLinks","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:(0,D.jsxs)(i.YStack,{px:"$5",$gtMd:{pr:0},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[(0,D.jsxs)(i.YStack,{py:"$5",gap:"$2","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[(0,D.jsx)(i.SizableText,{size:"$headingSm",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:s.formatMessage({id:M.ETranslations.global_community})}),(0,D.jsxs)(i.XStack,{gap:"$3","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[o?(0,D.jsx)(i.IconButton,{title:"X",icon:"Xbrand",onPress:function(){return(0,X.Dr)(o)}}):null,r?(0,D.jsx)(i.IconButton,{title:"Telegram",icon:"TelegramBrand",onPress:function(){return(0,X.Dr)(r)}}):null,e?(0,D.jsx)(i.IconButton,{title:"Discord",icon:"DiscordBrand",onPress:function(){return(0,X.Dr)(e)}}):null]})]}),(0,D.jsxs)(i.YStack,{py:"$5",gap:"$2","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[(0,D.jsx)(i.SizableText,{size:"$headingSm",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:s.formatMessage({id:M.ETranslations.global_official_links})}),(0,D.jsxs)(i.XStack,{gap:"$3","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailLinks.tsx",children:[t?(0,D.jsx)(i.Button,{iconAfter:"OpenOutline",onPress:function(){return(0,X.Dr)(t)},children:s.formatMessage({id:M.ETranslations.global_website})}):null,a?(0,D.jsx)(i.Button,{icon:"BookOpenOutline",iconAfter:"OpenOutline",onPress:function(){return(0,X.Dr)(a)},children:s.formatMessage({id:M.ETranslations.global_white_paper})}):null]})]}),n.length?(0,D.jsxs)(i.YStack,{py:"$5",children:[(0,D.jsx)(i.SizableText,{size:"$headingSm",color:"$textSubdued",children:s.formatMessage({id:M.ETranslations.global_explorers})}),(0,D.jsx)(i.XStack,{flexWrap:"wrap",children:n.map((function({url:e,name:t}){return(0,D.jsx)(i.Button,{mt:"$2",mr:"$3",iconAfter:"OpenOutline",onPress:function(){return(0,X.Dr)(e)},children:t},e)}))})]}):null]})})}var B=r(304695);function MarketPoolIcon({uri:e}){return(0,D.jsxs)(i.Image,{size:"$5",borderRadius:"$full","data-sentry-element":"Image","data-sentry-component":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:[(0,D.jsx)(i.Image.Source,{src:e,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx"}),(0,D.jsx)(i.Image.Fallback,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:(0,D.jsx)(i.Stack,{flex:1,borderRadius:"$full",bg:"$bgDisabled",ai:"center",jc:"center","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:(0,D.jsx)(i.Icon,{size:"$3.5",color:"$iconSubdued",name:"SwitchHorOutline","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx"})})}),(0,D.jsx)(i.Image.Loading,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx",children:(0,D.jsx)(i.Skeleton,{width:"100%",height:"100%","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketPoolIcon.tsx"})})]})}var U=r(936748);function PoolDetailsItem({title:e,children:t,currency:r,isNumeric:o=!1,formatter:a="marketCap",bordered:s=!0}){var[l]=(0,c.useSettingsPersistAtom)(),p=l.currencyInfo.symbol,d=(0,n.useMemo)((function(){return o?(0,D.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:a,formatterOptions:r?{currency:p}:void 0,children:t}):"string"==typeof t?(0,D.jsx)(i.SizableText,{size:"$bodyMdMedium",children:t}):t}),[t,r,p,a,o]);return(0,D.jsxs)(i.YStack,{pb:"$3",flexBasis:0,flexGrow:1,gap:"$0.5",borderColor:"$borderSubdued",borderBottomWidth:s?"$px":0,"data-sentry-element":"YStack","data-sentry-component":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(i.SizableText,{color:"$textSubdued",size:"$bodySm","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e}),d]})}function PoolDetailDialog({item:{attributes:e,dexName:t,dexLogoUrl:r,onekeyNetworkId:o,id:a,baseTokenImageUrl:n,quoteTokenImageUrl:s,relationships:{baseToken:c,quoteToken:l,dex:{data:{id:p}}}}}){var d=(0,v.A)(),[m,u]=e.name.split("/");return(0,D.jsxs)(i.YStack,{gap:"$3","data-sentry-element":"YStack","data-sentry-component":"PoolDetailDialog","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.global_pair}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.name}),(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.global_dex}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:(0,D.jsxs)(i.XStack,{gap:"$1.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(MarketPoolIcon,{uri:r,"data-sentry-element":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"}),(0,D.jsx)(i.SizableText,{size:"$bodyMdMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:t})]})})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.global_price}),currency:!0,isNumeric:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.baseTokenPriceUsd}),(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.market_24h_txns}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:String(e.transactions.h24.buys+e.transactions.h24.sells)})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.market_twenty_four_hour_volume}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.volumeUsd.h24}),(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.global_liquidity}),isNumeric:!0,currency:!0,formatter:"marketCap","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.reserveInUsd})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.global_fdv}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:e.fdvUsd}),(0,D.jsx)(PoolDetailsItem,{title:d.formatMessage({id:M.ETranslations.market_days_since_launch}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:d.formatMessage({id:M.ETranslations.market_number_of_days},{number:(0,U.A)(new Date,new Date(e.poolCreatedAt))})})]}),(0,D.jsxs)(i.YStack,{gap:"$6",pt:"$6",pb:"$10","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx",children:[(0,D.jsx)(MarketTokenAddress,{networkId:o,tokenName:m.trim(),address:c.data.id.split("_").pop(),uri:n,"data-sentry-element":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"}),(0,D.jsx)(MarketTokenAddress,{networkId:o,tokenName:u.trim(),address:l.data.id.split("_").pop(),uri:s,"data-sentry-element":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"}),(0,D.jsx)(MarketTokenAddress,{networkId:o,tokenName:d.formatMessage({id:M.ETranslations.global_pair_contract}),address:a.split("_").pop(),"data-sentry-element":"MarketTokenAddress","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PoolDetailDialog.tsx"})]})]})}function renderTrustScore(e){switch(e){case"green":return"🟢";case"yellow":return"🟡";case"red":return"🔴";default:return"⚪"}}function PairDetailDialog({item:{logo:e,base:t,target:r,market:o,last:s,depth_data:c,volume:l,last_updated_at:p,bid_ask_spread_percentage:d,trust_score:m,trade_url:u}}){var k=(0,v.A)(),f=`${t}/${r}`,y=(0,i.useDialogInstance)(),h=(0,n.useCallback)((0,a.A)((function*(){(0,X.GE)(u)})),[y,u]);return(0,D.jsxs)(i.YStack,{gap:"$3",pb:"$5","data-sentry-element":"YStack","data-sentry-component":"PairDetailDialog","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.global_pair}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:f}),(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.global_dex}),"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,D.jsxs)(i.XStack,{gap:"$1.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsx)(MarketPoolIcon,{uri:e,"data-sentry-element":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx"}),(0,D.jsx)(i.SizableText,{size:"$bodyMdMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:o.name})]})})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.global_price}),currency:!0,isNumeric:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:String(s)}),(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.market_plus_2_percent_depth}),isNumeric:!0,currency:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:c?.["+2%"]||"-"})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.market_minus_2_percent_depth}),currency:!0,isNumeric:!0,formatter:"price","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:c?.["-2%"]||"-"}),(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.market_twenty_four_hour_volume}),formatter:"marketCap",currency:!0,isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:String(l)})]}),(0,D.jsxs)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.market_spread}),isNumeric:!0,formatter:"priceChange","data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,x.A)(d).toFixed(2)}),(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.market_last_updated}),isNumeric:!0,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,S.mo)(new Date(p))})]}),(0,D.jsx)(i.XStack,{gap:"$4","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:(0,D.jsx)(PoolDetailsItem,{title:k.formatMessage({id:M.ETranslations.market_trust_score}),bordered:!1,"data-sentry-element":"PoolDetailsItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:renderTrustScore(m)})}),(0,D.jsxs)(i.XStack,{gap:"$1.5",ai:"center",pt:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsxs)(i.XStack,{gap:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:[(0,D.jsx)(i.SizableText,{size:"$bodyMdMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:k.formatMessage({id:M.ETranslations.market_pair_link})}),(0,D.jsx)(i.SizableText,{size:"$bodyMd","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx",children:f})]}),(0,D.jsx)(i.IconButton,{variant:"tertiary",color:"$iconSubdued",icon:"OpenOutline",size:"small",iconSize:"$4",onPress:h,"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/PairDetailDialog.tsx"})]})]})}var V=r(610101);function MarketDetailPools_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function MarketDetailPools_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MarketDetailPools_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MarketDetailPools_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var R="CEX";function NetworkIdSelect({value:e,onChange:t,options:r,oneKeyNetworkSymbols:o}){return(0,D.jsx)(i.XStack,{gap:"$2",px:"$5",pb:"$2",mt:"$5",$gtMd:{pr:0},py:"$2","data-sentry-element":"XStack","data-sentry-component":"NetworkIdSelect","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:r.map((function(r,a){return(0,D.jsx)(B.V,{networkImageUri:o[a]?.logoURI,networkName:o[a]?.networkName,isSelected:e===a,onPress:function(){return t(a)}},r)}))})}function HeaderColumn({logoUrl:e,title:t,description:r}){return(0,D.jsxs)(i.XStack,{gap:"$2.5",ai:"center","data-sentry-element":"XStack","data-sentry-component":"HeaderColumn","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:[(0,D.jsx)(MarketPoolIcon,{uri:e,"data-sentry-element":"MarketPoolIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"}),(0,D.jsxs)(i.YStack,{flexShrink:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:[(0,D.jsx)(i.SizableText,{size:"$bodyMdMedium",numberOfLines:1,userSelect:"none","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:t}),(0,D.jsx)(i.SizableText,{userSelect:"none",size:"$bodySm",color:"$textSubdued",numberOfLines:1,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:r})]})]})}function SkeletonRow(){return(0,D.jsxs)(i.XStack,{"data-sentry-element":"XStack","data-sentry-component":"SkeletonRow","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:[(0,D.jsx)(i.XStack,{flex:1,"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}),(0,D.jsx)(i.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}),(0,D.jsx)(i.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}),(0,D.jsx)(i.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}),(0,D.jsx)(i.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})})]})}function MdSkeletonRow(){return(0,D.jsxs)(i.XStack,{"data-sentry-element":"XStack","data-sentry-component":"MdSkeletonRow","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:[(0,D.jsx)(i.XStack,{flex:1,"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}),(0,D.jsx)(i.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}),(0,D.jsx)(i.XStack,{flex:1,jc:"flex-end","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$16",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})})]})}function MarketDetailPoolsSkeletonRow(){var{md:e}=(0,i.useMedia)();return e?(0,D.jsxs)(i.YStack,{gap:"$10",px:"$5",pt:"$11",children:[(0,D.jsx)(MdSkeletonRow,{}),(0,D.jsx)(MdSkeletonRow,{}),(0,D.jsx)(MdSkeletonRow,{}),(0,D.jsx)(MdSkeletonRow,{})]}):(0,D.jsxs)(i.YStack,{gap:"$6",px:"$5",pt:"$11",children:[(0,D.jsx)(SkeletonRow,{}),(0,D.jsx)(SkeletonRow,{}),(0,D.jsx)(SkeletonRow,{}),(0,D.jsx)(SkeletonRow,{})]})}function MarketDetailPools({detailPlatforms:e,tickers:t}){var[r]=(0,c.useSettingsPersistAtom)(),o=r.currencyInfo.symbol,s=(0,v.A)(),{gtXl:l}=(0,i.useMedia)(),{result:p}=(0,b.yk)((0,a.A)((function*(){return yield y.A.serviceMarket.fetchPools(e)})),[e],{initResult:[]}),d=(0,n.useMemo)((function(){var e=p.map((function(e){return e.onekeyNetworkId})).filter((function(e){return Boolean(e)}));return t?.length&&e.push(R),e}),[p,t?.length]),{result:m}=(0,b.yk)((0,a.A)((function*(){return yield Promise.all(d.map((function(e){return e===R?Promise.resolve({networkName:R}):e?y.A.serviceNetwork.getNetwork({networkId:e}):Promise.resolve({logoURI:""})})))})),[d],{initResult:[]}),[u,k]=(0,n.useState)(0),f=!p[u],h=(0,n.useMemo)((function(){var e;return null!=(e=f?t:p[u])?e:[]}),[u,f,p,t]),g=f?h.map((function(e){return MarketDetailPools_objectSpread(MarketDetailPools_objectSpread({},e),{},{price:e.last,logUrl:e.logo,title:`${e.base} / ${e.target}`,description:e.market.name,plus2PercentDepth:e.depth_data?.["+2%"],minus2PercentDepth:e.depth_data?.["-2%"],volumeUsdH24:e.volume})})):h.data.map((function(e){return MarketDetailPools_objectSpread(MarketDetailPools_objectSpread({},e),{},{logUrl:e.dexLogoUrl,title:e.attributes.name,description:e.dexName,price:Number(e.attributes.baseTokenPriceUsd),txTotal:Number(e.attributes.transactions.h24.buys+e.attributes.transactions.h24.sells),volumeUsdH24:Number(e.attributes.volumeUsd.h24),reserveInUsd:Number(e.attributes.reserveInUsd)})})),w=(0,n.useCallback)((function(e){k(e)}),[]),{sortedListData:x,handleSortTypeChange:S}=(0,V.K)(g,u),j=(0,n.useCallback)((function(e){return{onSortTypeChange:function(t){S?.({columnName:e.dataIndex,order:t})}}}),[S]),P=(0,n.useCallback)((function(e){return{onPress:function(){i.Dialog.show({showFooter:!1,title:s.formatMessage({id:M.ETranslations.market_pool_details}),renderContent:f?(0,D.jsx)(PairDetailDialog,{item:e}):(0,D.jsx)(PoolDetailDialog,{item:e})})}}}),[s,f]),T=(0,n.useMemo)((function(){return[l?{title:s.formatMessage({id:M.ETranslations.global_price}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"price",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e})}}:void 0,l?{title:s.formatMessage({id:M.ETranslations.market_24h_txns}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"txTotal",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatterOptions:{currency:o},formatter:"marketCap",textAlign:"right",children:e})}}:void 0,{title:s.formatMessage({id:M.ETranslations.market_twenty_four_hour_volume}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"volumeUsdH24",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatterOptions:{currency:o},formatter:"marketCap",textAlign:"right",children:e})}},{title:s.formatMessage({id:M.ETranslations.global_liquidity}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"reserveInUsd",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatterOptions:{currency:o},formatter:"marketCap",textAlign:"right",children:e})}}]}),[o,l,s]),O=(0,n.useMemo)((function(){return[{title:s.formatMessage({id:M.ETranslations.global_price}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"price",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e})}},l?{title:s.formatMessage({id:M.ETranslations.market_plus_2_percent_depth}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"plus2PercentDepth",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return e?(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e}):"-"}}:void 0,l?{title:s.formatMessage({id:M.ETranslations.market_minus_2_percent_depth}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"minus2PercentDepth",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return e?(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"price",formatterOptions:{currency:o},textAlign:"right",children:e}):"-"}}:void 0,{title:s.formatMessage({id:M.ETranslations.market_twenty_four_hour_volume}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},align:"right",dataIndex:"volumeUsdH24",columnProps:{flexGrow:2,flexBasis:0},render:function(e){return(0,D.jsx)(i.NumberSizeableText,{userSelect:"none",size:"$bodyMd",formatter:"marketCap",formatterOptions:{currency:o},textAlign:"right",children:e})}}]}),[o,l,s]),$=(0,n.useMemo)((function(){return[{title:s.formatMessage({id:M.ETranslations.global_pair}),titleProps:{size:"$bodySmMedium",color:"$textSubdued"},columnProps:{flexGrow:3,flexBasis:0},dataIndex:"dexDataName",render:function(e,{logUrl:t,title:r,description:o}){return(0,D.jsx)(HeaderColumn,{logoUrl:t,title:r,description:o})}},...f?O:T,{title:"",align:"right",dataIndex:"action",columnProps:{width:24},render:function(){return(0,D.jsx)(i.View,{left:4,$gtMd:{pl:"$7",pr:"$1"},children:(0,D.jsx)(i.Icon,{name:"ChevronRightSmallOutline",size:"$4"})})}}]}),[O,s,f,T]);return(0,D.jsx)(i.Table,{stickyHeader:!1,contentContainerStyle:{pb:"$10"},TableHeaderComponent:(0,D.jsx)(NetworkIdSelect,{options:d,oneKeyNetworkSymbols:m,value:u,onChange:w}),TableEmptyComponent:(0,D.jsx)(MarketDetailPoolsSkeletonRow,{}),renderScrollComponent:i.renderNestedScrollView,onRow:P,onHeaderRow:j,rowProps:{px:"$3",mx:"$2",minHeight:"$12"},estimatedItemSize:"$12",headerRowProps:{py:"$2",minHeight:36},dataSource:x,columns:$,extraData:u,"data-sentry-element":"Table","data-sentry-component":"MarketDetailPools","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketDetailPools.tsx"})}var H=r(812715),Y=r(921997),F=r(714718),W=r(223946);var ChartViewAdapter=function({data:e,onHover:t,lineColor:r,topColor:o,bottomColor:a,height:s}){var i=(0,n.useRef)(null);return(0,n.useEffect)((function(){if(i.current){var{chart:e,handleResize:r}=function createChartDom(e,t,r,o){var a=e(t,{height:o,layout:{background:{color:"transparent"}},crosshair:{vertLine:{visible:!1},horzLine:{visible:!1}},grid:{vertLines:{visible:!1},horzLines:{visible:!1}},timeScale:{visible:!1,fixLeftEdge:!0,fixRightEdge:!0,lockVisibleTimeRangeOnResize:!0},rightPriceScale:{visible:!1},handleScale:{pinch:!1,mouseWheel:!1}}),handleResize=function(){a.applyOptions({width:t.clientWidth})};return a.subscribeCrosshairMove((function({time:e,seriesPrices:t}){r({time:e,price:t.values().next().value})})),a.timeScale().fitContent(),window.addEventListener("resize",handleResize),globalThis._onekey_chart=a,{chart:a,handleResize}}(W.R9,i.current,t,s);return function(){window.removeEventListener("resize",r),e.remove()}}}),[]),(0,n.useEffect)((function(){!function updateChartDom({lineColor:e,topColor:t,bottomColor:r,data:o}){var a=o.map((function([e,t]){return{time:e,value:t}})),n=globalThis._onekey_chart;if(!n._onekey_series){var s=n.addAreaSeries({lineColor:e,topColor:t,bottomColor:r,lineWidth:2,crosshairMarkerBorderColor:"#fff",crosshairMarkerRadius:5});return s.setData(a),void(n._onekey_series=s)}var i=n._onekey_series;i.applyOptions({lineColor:e,topColor:t,bottomColor:r}),i.setData(a),o.length>2&&n.timeScale().setVisibleLogicalRange({from:.4,to:o.length-1.4})}({bottomColor:a,topColor:o,lineColor:r,data:e})}),[a,o,e,r]),(0,D.jsx)("div",{style:{width:"100%",height:s},ref:i,"data-sentry-component":"ChartViewAdapter","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/ChartViewAdapter.tsx"})};ChartViewAdapter.displayName="ChartViewAdapter";const K=ChartViewAdapter;var ChartView=function({data:e,onHover:t,height:r,isFetching:o}){return(0,D.jsx)(K,{isFetching:o,height:r,data:e,lineColor:"#33C641",topColor:"#00B81233",bottomColor:"#00FF1900",onHover:t,"data-sentry-element":"ChartViewAdapter","data-sentry-component":"ChartView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/ChartView.tsx"})};ChartView.displayName="ChartView";const G=(0,n.memo)(ChartView);function PriceLabel({price:e,time:t,opacity:r}){var o;null!==e&&(o=(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",$md:{color:"$text"},children:t})}));var[a]=(0,c.useSettingsPersistAtom)(),n=a.currencyInfo.symbol;return(0,D.jsxs)(i.Stack,{opacity:r,flexDirection:"column",$md:{flexDirection:"row",pt:"$6"},$gtMd:{height:"$10"},"data-sentry-element":"Stack","data-sentry-component":"PriceLabel","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:[(0,D.jsx)(i.XStack,{"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:o}),(0,D.jsx)(i.XStack,{$md:{ml:"$2"},"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:(0,D.jsx)(i.NumberSizeableText,{size:"$bodyMd",formatter:"price",formatterOptions:{currency:n},"data-sentry-element":"NumberSizeableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/Chart/PriceLabel.tsx",children:String(e)})})]})}function PriceChart({data:e,isFetching:t,height:r,children:o}){var{formatDate:a}=(0,F.A)(),s=(0,v.A)(),[c,l]=(0,n.useState)(),[p,d]=(0,n.useState)(""),{gtMd:m}=(0,i.useMedia)(),u=e?.length?e[0][1]:0,k=e?.length?e[e.length-1][1]:0,f=(0,n.useMemo)((function(){return e?"undefined"===c||void 0===c?k:"string"==typeof c?+c:c:null}),[e,k,c]),y=(0,n.useCallback)((function(e){var t;""===e.price&&""===e.time||(t=e.time instanceof Date?a(e.time):"number"==typeof e.time?a(new Date(e.time)):"string"==typeof e.time?a(new Date(+e.time)):"",d(t),l(e.price))}),[a]),h=(0,D.jsx)(PriceLabel,{opacity:p?1:0,price:f,time:p||"",basePrice:u}),g=(0,n.useMemo)((function(){return t?(0,D.jsx)(i.Spinner,{}):(0,D.jsx)(i.Empty,{title:s.formatMessage({id:M.ETranslations.global_no_data})})}),[s,t]),w=(0,n.useMemo)((function(){return m?r:.45*r}),[m,r]),b=(0,n.useMemo)((function(){return.7*r}),[r]),x=e&&e.length>0?(0,D.jsx)(G,{isFetching:t,height:w,data:e,onHover:y}):g,S=t?(0,D.jsx)(i.Spinner,{}):x;return m?(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.XStack,{justifyContent:"space-between",h:"$10",children:[t?(0,D.jsxs)(i.YStack,{gap:"$2",children:[(0,D.jsx)(i.Skeleton,{w:"$10",h:"$3"}),(0,D.jsx)(i.Skeleton,{w:"$24",h:"$3"})]}):h,o]}),(0,D.jsx)(i.Stack,{mt:32,$gtMd:{mt:"$1"},justifyContent:"center",alignItems:"center",children:S})]}):(0,D.jsxs)(D.Fragment,{children:[h,(0,D.jsx)(i.Stack,{h:b,justifyContent:"center",alignItems:"center",children:S})]})}function Loading(){return(0,D.jsx)(i.Stack,{flex:1,alignContent:"center",justifyContent:"center","data-sentry-element":"Stack","data-sentry-component":"Loading","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:(0,D.jsx)(i.Spinner,{size:"large","data-sentry-element":"Spinner","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx"})})}function NativeTokenPriceChart({coinGeckoId:e,height:t,defer:r,onLoadEnd:o}){var s=(0,v.A)(),[c,l]=(0,n.useState)([]),[p,d]=(0,n.useState)(!1),{md:m}=(0,i.useMedia)(),u=(0,n.useMemo)((function(){return[{label:s.formatMessage({id:M.ETranslations.market_1d}),value:"1"},{label:s.formatMessage({id:M.ETranslations.market_1w}),value:"7"},{label:s.formatMessage({id:M.ETranslations.market_1m}),value:"30"},{label:s.formatMessage({id:M.ETranslations.market_1y}),value:"365"},{label:s.formatMessage({id:M.ETranslations.global_all}),value:"max"}]}),[s]),[k,f]=(0,n.useState)(u[0].value),h=(0,n.useCallback)((0,a.A)((function*(){d(!0);var t=yield y.A.serviceMarket.fetchTokenChart(e,k);m?setTimeout((function(){r.resolve(null)}),100):yield r.promise,l(t),o(),d(!1)})),[e,k,r,m,o]);(0,n.useEffect)((function(){h()}),[h]);var{gtLg:g}=(0,i.useMedia)();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(i.YStack,{px:"$5",$gtMd:{pr:0},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:(0,D.jsx)(i.YStack,{"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:(0,D.jsx)(PriceChart,{height:t,isFetching:p,data:c,"data-sentry-element":"PriceChart","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:g&&!p?(0,D.jsx)(i.SegmentControl,{value:k,onChange:f,options:u}):null})})}),g?null:(0,D.jsx)(i.XStack,{gap:"$3",ai:"center",px:"$5","$platform-web":{zIndex:30},position:"absolute",top:t-48,width:"100%",children:(0,D.jsx)(i.SegmentControl,{fullWidth:!0,value:k,jc:"space-between",flex:1,onChange:f,options:u})})]})}function TradingViewChart({targetToken:e,identifier:t,baseToken:r,defer:o,height:a,onLoadEnd:s}){return(0,n.useEffect)((function(){o.resolve(null)}),[o]),(0,D.jsx)(Y.V,{mode:"overview",h:a,$gtMd:{pl:"$5"},$md:{pt:"$3"},targetToken:e,baseToken:r,identifier:t,onLoadEnd:s,"data-sentry-element":"TradingView","data-sentry-component":"TradingViewChart","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx"})}var q=["binance","bybit","mexc","bitgit","coinbase","bitfinex","kraken","okx","gate","kucoin"],J=["USD","USDT","USDC"],Q={tether:{identifier:"COINBASE",baseToken:"USDT",targetToken:"USD"},"usd-coin":{identifier:"KRAKEN",baseToken:"USDC",targetToken:"USD"}};var Z=(0,n.memo)((function BasicTokenPriceChart({coinGeckoId:e,defer:t,tickers:r,isFetching:o}){var[a,s]=(0,n.useState)(!0),c=(0,n.useCallback)((function(){s(!1)}),[]),l=(0,n.useMemo)((function(){if(!r?.length)return null;var t,o=Q[e];if(o)return o;for(var a=0;a<r.length;a+=1){var n=r[a];if(J.includes(n.target)){if(q.includes(n.market.identifier))return{identifier:(t=n.market.identifier,"gate"===t?"GATEIO":t),baseToken:n.base,targetToken:n.target};if(q.includes(n.market.name.toLowerCase()))return{identifier:n.market.name.toLowerCase(),baseToken:n.base,targetToken:n.target}}}}),[e,r]),p=function(){var{height:e}=(0,H.A)(),{top:t}=(0,i.useSafeAreaInsets)(),{gtMd:r}=(0,i.useMedia)(),o=(0,i.useTabBarHeight)(),a=(0,n.useMemo)((function(){return d.Ay.isNativeIOS?268:d.Ay.isNativeAndroid?278:300}),[]);return(0,n.useMemo)((function(){return r?450:e-t-o-a}),[a,r,e,o,t])}();return o?null:(0,D.jsxs)(D.Fragment,{children:[l?(0,D.jsx)(TradingViewChart,{defer:t,height:p,identifier:l?.identifier,baseToken:l?.baseToken,targetToken:l?.targetToken,onLoadEnd:c}):(0,D.jsx)(NativeTokenPriceChart,{height:p,isFetching:o,coinGeckoId:e,defer:t,onLoadEnd:c}),(0,D.jsx)(i.AnimatePresence,{"data-sentry-element":"AnimatePresence","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenPriceChart.tsx",children:a?(0,D.jsx)(i.Stack,{bg:"$bgApp",position:"absolute",top:0,left:0,right:0,bottom:0,opacity:1,flex:1,animation:"quick",exitStyle:{opacity:0},children:(0,D.jsx)(Loading,{})}):null})]})}));function TokenDetailTabs_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function TokenDetailTabs_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?TokenDetailTabs_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TokenDetailTabs_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=(0,n.memo)((function BasicTokenDetailTabs({token:e,listHeaderComponent:t,isRefreshing:r,onRefresh:o,defer:a,coinGeckoId:s}){var c=(0,v.A)(),{md:l}=(0,i.useMedia)();(0,n.useEffect)((function(){setTimeout((function(){a.resolve(null)}),100)}),[a]);var p=(0,n.useMemo)((function(){return[l&&e?{title:c.formatMessage({id:M.ETranslations.market_chart}),page:function(t){return(0,D.jsx)(Z,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{isFetching:!e,tickers:e?.tickers,coinGeckoId:s,defer:a,symbol:e?.symbol}))}}:void 0,l&&e?{title:c.formatMessage({id:M.ETranslations.global_overview}),page:function(t){return(0,D.jsx)(MarketDetailOverview,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{token:e}))}}:void 0,e?.tickers?.length&&e?{title:c.formatMessage({id:M.ETranslations.global_pools}),page:function(t){return(0,D.jsx)(MarketDetailPools,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{tickers:e.tickers,detailPlatforms:e.detailPlatforms}))}}:void 0,e&&{title:c.formatMessage({id:M.ETranslations.global_links}),page:function(t){return(0,D.jsx)(MarketDetailLinks,TokenDetailTabs_objectSpread(TokenDetailTabs_objectSpread({},t),{},{token:e}))}}].filter(Boolean)}),[s,a,c,l,e]),d=(0,n.useRef)(null),m=(0,n.useCallback)((function({enabled:e}){d?.current?.setVerticalScrollEnabled(e)}),[]),u=(0,n.useRef)(0),k=(0,n.useCallback)((function(e){l&&(0===e?(d.current?.scrollToTop(),setTimeout((function(){m({enabled:!1})}),50)):0===u.current&&m({enabled:!0}),u.current=e)}),[m,l]),f=(0,n.useCallback)((function(e){l&&e.nativeEvent.layout.height>0&&setTimeout((function(){d.current?.scrollToTop(),m({enabled:!1})}),100)}),[m,l]);return(0,D.jsx)(i.Tab,{ref:d,refreshControl:(0,D.jsx)(i.RefreshControl,{refreshing:!!r,onRefresh:o}),$gtMd:{pr:"$5"},$md:{mt:"$5"},data:p,disableRefresh:!0,ListHeaderComponent:(0,D.jsx)(i.Stack,{mb:"$5",onLayout:f,h:150,$gtMd:{h:450},children:t}),onSelectedPageIndex:k,"data-sentry-element":"Tab","data-sentry-component":"BasicTokenDetailTabs","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/TokenDetailTabs.tsx"})})),te=r(993892),re=r(802172);function MarketDetail_ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function MarketDetail_objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?MarketDetail_ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MarketDetail_ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function TokenDetailHeader({coinGeckoId:e,token:t}){var{gtMd:r}=(0,i.useMedia)(),{result:o}=(0,b.yk)((function(){return y.A.serviceMarket.fetchMarketTokenDetail(e)}),[e],{pollingInterval:u.A.getTimeDurationMs({seconds:45}),initResult:t}),{name:a,symbol:n,stats:{performance:s,volume24h:c,marketCap:l,marketCapRank:d,fdv:m,currentPrice:k,lastUpdated:f}}=o;return(0,D.jsxs)(i.YStack,{px:"$5",$md:{minHeight:150},"data-sentry-element":"YStack","data-sentry-component":"TokenDetailHeader","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,D.jsxs)(i.YStack,{flex:1,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,D.jsx)(i.SizableText,{size:"$headingMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:a}),(0,D.jsxs)(i.XStack,{ai:"center",jc:"space-between",pt:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,D.jsx)(_.D,{size:"$heading3xl",price:k,tokenName:a,tokenSymbol:n,lastUpdated:f,"data-sentry-element":"MarketTokenPrice","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,D.jsx)(z.J,{coingeckoId:e,mr:"$-2",size:"medium",from:p.N.details,"data-sentry-element":"MarketStar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})]}),(0,D.jsx)(C.E,{pt:"$0.5",width:"100%","data-sentry-element":"PriceChangePercentage","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:s.priceChangePercentage24h})]}),(0,D.jsx)(MarketTradeButton,{coinGeckoId:e,token:o,"data-sentry-element":"MarketTradeButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),r?(0,D.jsx)(MarketDetailOverview,{token:o}):null]})}function SkeletonHeader(){return(0,D.jsxs)(i.YStack,{"data-sentry-element":"YStack","data-sentry-component":"SkeletonHeader","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,D.jsx)(i.Skeleton,{w:"$24",h:"$4","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,D.jsx)(i.View,{pt:"$5",pb:"$3.5","data-sentry-element":"View","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:(0,D.jsx)(i.Skeleton,{w:"$40",h:"$7","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})}),(0,D.jsx)(i.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})]})}function SkeletonHeaderOverItemItem(){return(0,D.jsxs)(i.YStack,{gap:"$2",flexGrow:1,flexBasis:0,"data-sentry-element":"YStack","data-sentry-component":"SkeletonHeaderOverItemItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,D.jsx)(i.Skeleton,{w:"$10",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,D.jsx)(i.Skeleton,{w:"$24",h:"$3","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"})]})}function MarketDetail({route:e}){var{token:t}=e.params,{gtMd:r}=(0,i.useMedia)(),[o,c]=(0,n.useState)(!1),[p,u]=(0,n.useState)(void 0),f=(0,n.useCallback)((0,a.A)((function*(){var e=yield y.A.serviceMarket.fetchMarketTokenDetail(t);u(e)})),[t]),h=(0,n.useCallback)((0,a.A)((function*(){c(!0),yield f(),c(!1)})),[f]);(0,n.useEffect)((function(){f()}),[f]);var b=(0,n.useCallback)((function(){return(0,D.jsxs)(i.XStack,{gap:"$2",children:[(0,D.jsx)(E.t,{uri:p?.image||"",size:"$6"}),(0,D.jsx)(i.SizableText,{children:p?.symbol?.toUpperCase()})]})}),[p?.image,p?.symbol]),{shareText:x}=(0,i.useShare)(),v=(0,n.useCallback)((function(){return k.Ay.buildDeepLinkUrl({path:l.oO.market_detail,query:{coinGeckoId:t}})}),[t]),M=(0,n.useCallback)((0,a.A)((function*(){return(0,te.V)({coinGeckoId:t})})),[t]),S=(0,n.useCallback)((function(){return(0,D.jsxs)(i.XStack,{gap:"$6",ai:"center",children:[d.Ay.isExtensionUiPopup?null:(0,D.jsx)(g.X,{buildDeepLinkUrl:v,buildFullUrl:M}),(0,D.jsx)(i.HeaderIconButton,{icon:"ShareOutline",onPress:(0,a.A)((function*(){var e=(0,te.V)({coinGeckoId:t});yield x(e)}))}),r?(0,D.jsx)(A.I,{}):null]})}),[v,M,t,r,x]),j=(0,w.A)(),P=(0,n.useCallback)((function(){j.dispatch((function(e){return e.routes.length>1?s.y9.pop(e.routes.length):s.d3.reset({index:0,routes:[{name:m.FE.TabMarket}]})}))}),[j]),T=(0,n.useCallback)((function(){return(0,D.jsx)(i.NavBackButton,{onPress:P})}),[P]),O=(0,n.useMemo)((function(){return p?(0,D.jsx)(TokenDetailHeader,{coinGeckoId:t,token:p}):(0,D.jsx)(i.YStack,{px:"$5",children:r?(0,D.jsxs)(i.YStack,{gap:"$12",width:392,children:[(0,D.jsx)(SkeletonHeader,{}),(0,D.jsx)(i.YStack,{gap:"$3",children:(0,D.jsx)(i.Skeleton,{w:252,h:"$3"})}),(0,D.jsxs)(i.YStack,{gap:"$6",children:[(0,D.jsxs)(i.XStack,{children:[(0,D.jsx)(SkeletonHeaderOverItemItem,{}),(0,D.jsx)(SkeletonHeaderOverItemItem,{})]}),(0,D.jsxs)(i.XStack,{children:[(0,D.jsx)(SkeletonHeaderOverItemItem,{}),(0,D.jsx)(SkeletonHeaderOverItemItem,{})]}),(0,D.jsxs)(i.XStack,{children:[(0,D.jsx)(SkeletonHeaderOverItemItem,{}),(0,D.jsx)(SkeletonHeaderOverItemItem,{})]})]}),(0,D.jsxs)(i.YStack,{gap:"$6",children:[(0,D.jsx)(i.Skeleton,{w:"$10",h:"$3"}),(0,D.jsx)(i.Skeleton,{w:252,h:"$3"}),(0,D.jsx)(i.Skeleton,{w:252,h:"$3"}),(0,D.jsx)(i.Skeleton,{w:252,h:"$3"})]})]}):(0,D.jsxs)(i.YStack,{gap:"$6",pt:"$1",children:[(0,D.jsx)(SkeletonHeader,{}),(0,D.jsxs)(i.XStack,{children:[(0,D.jsx)(SkeletonHeaderOverItemItem,{}),(0,D.jsx)(SkeletonHeaderOverItemItem,{}),(0,D.jsx)(SkeletonHeaderOverItemItem,{})]})]})})}),[t,r,p]),$=(0,i.useDeferredPromise)(),I=(0,n.useMemo)((function(){return(0,D.jsx)(Z,{isFetching:!p,tickers:p?.tickers,coinGeckoId:t,defer:$,symbol:p?.symbol})}),[t,$,p]);return(0,D.jsxs)(i.Page,{"data-sentry-element":"Page","data-sentry-component":"MarketDetail","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:[(0,D.jsx)(i.Page.Header,{headerTitle:b,headerRight:S,headerLeft:T,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}),(0,D.jsx)(i.Page.Body,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:r?(0,D.jsx)(i.YStack,{flex:1,children:(0,D.jsxs)(i.XStack,{flex:1,pt:"$5",children:[(0,D.jsx)(i.ScrollView,{minWidth:392,maxWidth:392,children:O}),(0,D.jsx)(i.YStack,{flex:1,children:(0,D.jsx)(ee,{defer:$,token:p,coinGeckoId:t,listHeaderComponent:I})})]})}):(0,D.jsx)(ee,{defer:$,isRefreshing:o,onRefresh:h,token:p,coinGeckoId:t,listHeaderComponent:O})})]})}function MarketDetailWithProvider(e){return(0,D.jsx)(h.b8,{config:{sceneName:f.Zs.home,sceneUrl:""},enabledNum:[0],"data-sentry-element":"AccountSelectorProviderMirror","data-sentry-component":"MarketDetailWithProvider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:(0,D.jsx)(re.m,{storeName:c.EJotaiContextStoreNames.marketWatchList,"data-sentry-element":"MarketWatchListProviderMirror","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx",children:(0,D.jsx)(MarketDetail,MarketDetail_objectSpread(MarketDetail_objectSpread({},e),{},{"data-sentry-element":"MarketDetail","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/MarketDetail.tsx"}))})})}},802172:(e,t,r)=>{r.d(t,{m:()=>p});var o=r(324586),a=r(514041),n=r(2577),s=r(597102),i=r(310944),c=r(907481),l=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=(0,a.memo)((function(e){var{children:t,storeName:r}=e,o=(0,c.z)(r),a=n.A.getOrCreateStore(o);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.H,_objectSpread({},o)),(0,l.jsx)(i.Hn,{store:a,children:t})]})}));p.displayName="MarketWatchListProviderMirror"},217715:(e,t,r)=>{r.d(t,{I:()=>MarketHomeHeaderSearchBar});var o=r(514041),a=r(908867),n=r(490343),s=r(498356),i=r(334439),c=r(193068),l=r(390574),p=r(747268),d=r(506851),m=r(89345),u=r(831085),k=p.H.SearchInPage;function MarketHomeHeaderSearchBar(){var e=(0,a.A)(),t=(0,s.A)(),r=(0,o.useCallback)((function(){t.pushModal(c.ry.UniversalSearchModal,{screen:l.j.UniversalSearch,params:{filterType:d.j.MarketToken}})}),[t]);return(0,m.U)(k,r),(0,u.jsxs)(n.XStack,{$gtMd:{width:280},"data-sentry-element":"XStack","data-sentry-component":"MarketHomeHeaderSearchBar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketHomeHeaderSearchBar.tsx",children:[(0,u.jsx)(n.SearchBar,{placeholder:e.formatMessage({id:i.ETranslations.global_search_tokens}),containerProps:{w:"100%"},$gtMd:{size:"small"},addOns:[{label:(0,u.jsx)(n.Shortcut,{shortcutKey:k})}],"data-sentry-element":"SearchBar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketHomeHeaderSearchBar.tsx"},"MarketHomeSearchInput"),(0,u.jsx)(n.View,{position:"absolute",top:0,left:0,right:0,bottom:0,onPress:r,"data-sentry-element":"View","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketHomeHeaderSearchBar.tsx"})]})}},172120:(e,t,r)=>{r.d(t,{J:()=>f});var o=r(324586),a=r(839850),n=r(514041),s=r(908867),i=r(490343),c=r(153763),l=r(318822),p=r(334439),d=r(296827),m=r(450255),u=r(831085),k=["coingeckoId","size","tabIndex","from"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=(0,n.memo)((function BasicMarketStar(e){var{coingeckoId:t,size:r,tabIndex:o,from:f}=e,y=(0,a.A)(e,k),h=(0,s.A)(),g=(0,m.B)(),[w,b]=(0,n.useState)((function(){return g.isInWatchList(t)})),x=(0,c.E)(),{gtMd:v}=(0,i.useMedia)(),M=(0,n.useCallback)((function({tabIndex:e}){e===o&&b(g.isInWatchList(t))}),[g,t,o]);(0,n.useEffect)((function(){if(v&&o)return l.iL.on(l.Tu.SwitchMarketHomeTab,M),function(){l.iL.off(l.Tu.SwitchMarketHomeTab,M)}}),[v,M,o]),(0,n.useEffect)((function(){x&&b(g.isInWatchList(t))}),[g,t,x]);var S=(0,n.useCallback)((function(){w?(g.removeFormWatchList(t),d.U.market.token.removeFromWatchlist({tokenSymbol:t,removeWatchlistFrom:f})):(g.addIntoWatchList(t),d.U.market.token.addToWatchList({tokenSymbol:t,addWatchlistFrom:f})),b(!w)}),[w,g,t,f]);return(0,u.jsx)(i.IconButton,_objectSpread(_objectSpread({title:h.formatMessage({id:w?p.ETranslations.market_remove_from_watchlist:p.ETranslations.market_add_to_watchlist}),icon:w?"StarSolid":"StarOutline",variant:"tertiary",size:r,iconSize:r?void 0:"$5",iconProps:{color:w?"$iconActive":"$iconDisabled"},onPress:S},y),{},{"data-sentry-element":"IconButton","data-sentry-component":"BasicMarketStar","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketStar.tsx"}))}))},202338:(e,t,r)=>{r.d(t,{t:()=>s});var o=r(514041),a=r(490343),n=r(831085);var s=(0,o.memo)((function BasicMarketTokenIcon({uri:e,size:t}){return e?(0,n.jsxs)(a.Image,{size:t,circular:!0,"data-sentry-element":"Image","data-sentry-component":"BasicMarketTokenIcon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:[(0,n.jsx)(a.Image.Source,{source:{uri:decodeURIComponent(e)},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx"}),(0,n.jsx)(a.Image.Fallback,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:(0,n.jsx)(a.Stack,{bg:"$bgStrong",ai:"center",jc:"center",width:"100%",height:"100%","data-sentry-element":"Stack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:(0,n.jsx)(a.Icon,{name:"CoinOutline",size:"$6",color:"$iconSubdued","data-sentry-element":"Icon","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx"})})}),(0,n.jsx)(a.Image.Loading,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx",children:(0,n.jsx)(a.Skeleton,{width:"100%",height:"100%",radius:"round","data-sentry-element":"Skeleton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenIcon.tsx"})})]}):(0,n.jsx)(a.Skeleton,{width:t,height:t})}))},378302:(e,t,r)=>{r.d(t,{D:()=>MarketTokenPrice,u:()=>useTokenPrice});var o=r(324586),a=r(839850),n=r(797331),s=r.n(n),i=r(230414),c=r(514041),l=r(490343),p=r(471169),d=r(831085),m=["price","tokenName","tokenSymbol","lastUpdated","size"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=new(function(){function MarketTokenPriceEvent(){this.tokenPriceMap=new Map,this.priceChangedListenerMap=new Map}var e=MarketTokenPriceEvent.prototype;return e.buildKey=function buildKey(e,t){return`${e}-${t}`},e.updateTokenPrice=function updateTokenPrice({name:e,symbol:t,price:r,lastUpdated:o}){var a=this.buildKey(e,t),{lastUpdated:n=0}=this.tokenPriceMap.get(e)||{};o>n&&(this.tokenPriceMap.set(a,{price:r,lastUpdated:o}),(this.priceChangedListenerMap.get(a)||[]).forEach((function(e){return e()})))},e.getTokenPrice=function getTokenPrice(e,t){var r=this.buildKey(e,t);return this.tokenPriceMap.get(r)?.price||"-"},e.onPriceChange=function onPriceChange(e,t,r){var o=this,a=this.buildKey(e,t),n=this.priceChangedListenerMap.get(a)||[],i=s()(r,200);return n.push(i),this.priceChangedListenerMap.set(a,n),function(){var e=o.priceChangedListenerMap.get(a)||[];o.priceChangedListenerMap.set(a,e.filter((function(e){return e!==i})))}},(0,i.A)(MarketTokenPriceEvent)}()),useTokenPrice=function({name:e,symbol:t,price:r,lastUpdated:o}){var[a,n]=(0,c.useState)(0);return(0,c.useMemo)((function(){u.updateTokenPrice({name:e,symbol:t,price:r,lastUpdated:o})}),[o,e,r,t]),(0,c.useLayoutEffect)((function(){return u.onPriceChange(e,t,(function(){n((function(e){return e+1}))}))}),[o,e,r,t]),(0,c.useMemo)((function(){return u.getTokenPrice(e,t)}),[e,t,a])};function MarketTokenPrice(e){var{price:t,tokenName:r,tokenSymbol:o,lastUpdated:n,size:s}=e,i=(0,a.A)(e,m),[u]=(0,p.useSettingsPersistAtom)(),k=u.currencyInfo.symbol,f=(0,c.useMemo)((function(){return n?new Date(n).getTime():Date.now()}),[n]),y=useTokenPrice({name:r,price:t,symbol:o,lastUpdated:f});return(0,d.jsx)(l.NumberSizeableText,_objectSpread(_objectSpread({userSelect:"none",formatter:"price",size:s,formatterOptions:{currency:k}},i),{},{"data-sentry-element":"NumberSizeableText","data-sentry-component":"MarketTokenPrice","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Market/components/MarketTokenPrice.tsx",children:y}))}},781889:(e,t,r)=>{r.d(t,{E:()=>PriceChangePercentage});var o=r(324586),a=r(839850),n=r(490343),s=(r(663522),r(831085)),i=["children"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function PriceChangePercentage(e){var{children:t}=e,r=(0,a.A)(e,i);return t?(0,s.jsx)(n.NumberSizeableText,_objectSpread(_objectSpread({adjustsFontSizeToFit:!0,numberOfLines:2,userSelect:"none",size:"$bodyMd",formatter:"priceChange",color:Number(t)>0?"$textSuccess":"$textCritical",formatterOptions:{showPlusMinusSigns:!0}},r),{},{children:t})):(0,s.jsx)(n.SizableText,{size:"$bodyMd",children:"-"})}},123890:(e,t,r)=>{r.d(t,{z6:()=>useLazyMarketTradeActions,zl:()=>useMarketTradeActions,KY:()=>useMarketTradeNetwork,Hr:()=>useMarketTradeNetworkId});var o=r(324586),a=r(586330),n=r(514041),s=r(908867),i=r(490343),c=r(334439),l=r(296827),p=r(193068),d=r(180706),m=r(628380),u=r(117746),k=r(584186),f=r(317192),y=r(657355),h=r(625931),g=(0,y.EO)((function(e){var t=(0,h.V)();if("btc"===e)return t.btc})),w=r(619390),b=r(643087),x=r(498356),v=r(162616),M=r(831085);function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){(0,o.A)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var useMarketTradeNetwork=function(e){var{detailPlatforms:t,platforms:r={}}=e||{};return(0,n.useMemo)((function(){if(t){var e=Object.values(t),o=e.find((function(e){return e.isNative}));if(o)return o;var a=Object.values(r)[0],n=e.find((function(e){return e.tokenAddress===a}));return null!=n?n:e[0]}}),[t,r])},useMarketTradeNetworkId=function(e,t){return(0,n.useMemo)((function(){var{onekeyNetworkId:r}=e||{};return null!=r?r:g(t)}),[e,t])},useMarketTradeActions=function(e){var t,r,{symbol:o="",name:k}=e||{},y=(0,s.A)(),h=useMarketTradeNetwork(e),g=useMarketTradeNetworkId(h,o),S=(0,x.A)(),{activeAccount:j}=(0,v.LH)({num:0}),D=(0,n.useMemo)((function(){var e;return null!=(e=h?.contract_address)?e:""}),[h]),{isNative:P=!1,tokenAddress:T=""}=h||{},O=(0,n.useCallback)((function(e,t=!0){l.U.market.token.unsupportedToken({name:o,action:e}),t&&i.Dialog.show({title:y.formatMessage({id:c.ETranslations.earn_unsupported_token}),tone:"warning",icon:"ErrorOutline",renderContent:(0,M.jsx)(i.SizableText,{size:"$bodyLg",children:y.formatMessage({id:c.ETranslations.earn_unsupported_token_desc})}),onConfirmText:y.formatMessage({id:c.ETranslations.explore_got_it})})}),[y,o]),$=(0,n.useCallback)((0,a.A)((function*({allowWatchAccount:e}={allowWatchAccount:!1}){if(g)return b.A.serviceAccount.createAddressIfNotExists({walletId:j?.wallet?.id||"",networkId:g,accountId:j?.account?.id,indexedAccountId:j?.indexedAccount?.id},{allowWatchAccount:e})})),[j,g]),I=(0,n.useCallback)((t=(0,a.A)((function*(e){var t=yield $({allowWatchAccount:"buy"===e});if(t&&g)if(yield b.A.serviceFiatCrypto.isTokenSupported({networkId:g,tokenAddress:T,type:e})){var{url:r,build:o}=yield b.A.serviceFiatCrypto.generateWidgetUrl({networkId:g,tokenAddress:T,accountId:t?.id,type:e});r&&o?(0,u.Dr)(r):O(e)}else O(e)})),function(e){return t.apply(this,arguments)}),[$,g,T,O]),_=(0,n.useCallback)((r=(0,a.A)((function*(e){var navigateToSwapPage=function(t){"modal"===e?S.replace(m.u.SwapMainLand,t):S.pushModal(d.r.SwapModal,{screen:m.u.SwapMainLand,params:t})};if(!g)return O("trade",!1),void navigateToSwapPage({importNetworkId:"unknown"});if(yield $()){if(g){var{isSupportSwap:t,isSupportCrossChain:r}=yield b.A.serviceSwap.checkSupportSwap({networkId:g,contractAddress:P?T:D});if(!t&&!r)return O("trade",!1),void navigateToSwapPage({importNetworkId:g});var a=yield b.A.serviceNetwork.getNetwork({networkId:g});navigateToSwapPage({importFromToken:_objectSpread(_objectSpread({},a),{},{logoURI:P?a.logoURI:void 0,contractAddress:T,networkId:g,isNative:P,networkLogoURI:a.logoURI,symbol:o.toUpperCase(),name:k}),swapTabSwitchType:t?w.qX.SWAP:w.qX.BRIDGE})}}else"modal"===e&&S.pop()})),function(e){return r.apply(this,arguments)}),[D,$,P,k,S,g,T,O,o]),C=(0,n.useCallback)((0,a.A)((function*(){var e=yield $();e&&g&&e&&S.pushModal(d.r.StakingModal,{screen:p.Ax.AssetProtocolList,params:{networkId:g,accountId:e.id,indexedAccountId:e.indexedAccountId,symbol:o}})})),[$,S,g,o]),A=(0,n.useMemo)((function(){return(0,f.r)(o)}),[o]);return(0,n.useMemo)((function(){return{onSwap:_,onStaking:C,onBuy:function(){I("buy")},onSell:function(){I("sell")},createAccountIfNotExists:$,canStaking:A}}),[A,$,I,C,_])},useLazyMarketTradeActions=function(e){var[t,r]=(0,n.useState)(null),o=(0,n.useCallback)((0,a.A)((function*(){var t=yield b.A.serviceMarket.fetchMarketTokenDetail(e);return r(t),t})),[e]),s=useMarketTradeActions(t),i=(0,n.useRef)(s);i.current=s;var c=(0,x.A)(),l=(0,n.useCallback)((function(e){var t,r=(t=(0,a.A)((function*(){yield o(),yield k.A.wait(80),yield i.current[e]("modal")})),function callback(){return t.apply(this,arguments)});r()}),[o]),p=(0,n.useCallback)((0,a.A)((function*(){c.pushModal(d.r.SwapModal,{screen:m.u.SwapLazyMarketModal,params:{coinGeckoId:e}})})),[e,c]);return(0,n.useMemo)((function(){return{onSwap:function(){return l("onSwap")},onSwapLazyModal:p,onStaking:function(){return l("onStaking")},onBuy:function(){return l("onBuy")},onSell:function(){return l("onSell")}}}),[l,p])}},610101:(e,t,r)=>{r.d(t,{K:()=>useSortType});var o=r(514041),getNumericValue=function(e,t,r){var o=e[t];return"number"==typeof o?o:"desc"===r?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER},useSortType=function(e,t){var r=(0,o.useRef)(),a=(0,o.useRef)(t);r.current!==e&&(r.current=e),a.current!==t&&(a.current=t,r.current=e);var[n,s]=(0,o.useState)({columnName:"default",order:"desc"}),i=(0,o.useCallback)((function(e){s(e)}),[]),c=(0,o.useMemo)((function(){if(r.current?.length){var t=r.current[0]?.[n?.columnName];if(n?.order)return function(e){return"number"==typeof e||null===e||"-"===e}(t)?r.current?.slice().sort((function(e,t){var r=getNumericValue(e,n.columnName,n.order),o=getNumericValue(t,n.columnName,n.order);return"desc"===n.order?o-r:r-o})):"string"==typeof t?r.current?.slice().sort((function(e,t){var r=e[n.columnName],o=t[n.columnName];return"desc"===n.order?r.localeCompare(o,"en",{sensitivity:"base"}):o.localeCompare(r,"en",{sensitivity:"base"})})):e}return r.current}),[e,n?.columnName,n?.order]);return(0,o.useMemo)((function(){return{sortedListData:c,handleSortTypeChange:i,sortByType:n,setSortByType:s}}),[i,n,c,s])}},450255:(e,t,r)=>{r.d(t,{B:()=>useWatchListAction});var o=r(514041),a=r(908867),n=r(490343),s=r(334439),i=r(310944),useWatchListAction=function(){var e=(0,a.A)(),t=(0,i.qr)(),r=(0,o.useCallback)((function(e){var r={coingeckoId:e};t.current.removeFormWatchList(r)}),[t]),c=(0,o.useCallback)((function(r){var o=Array.isArray(r)?r:[r];t.current.addIntoWatchList(o.map((function(e){return{coingeckoId:e}}))),n.Toast.success({title:e.formatMessage({id:s.ETranslations.market_added_to_watchlist})})}),[t,e]),l=(0,o.useCallback)((function(e){var r={coingeckoId:e};t.current.moveToTop(r)}),[t]),p=(0,o.useCallback)((function(e){return t.current.isInWatchList(e)}),[t]);return(0,o.useMemo)((function(){return{removeFormWatchList:r,addIntoWatchList:c,MoveToTop:l,isInWatchList:p}}),[l,c,p,r])}},317192:(e,t,r)=>{r.d(t,{J:()=>getImportFromToken,r:()=>isSupportStaking});var o=r(625931),a=r(619390),n={networkId:"evm--1",contractAddress:"",name:"Ethereum",symbol:"ETH",decimals:18,isNative:!0,networkLogoURI:"https://uni.onekey-asset.com/static/chain/eth.png"},s={networkId:"evm--1",contractAddress:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",name:"USD Coin",symbol:"USDC",decimals:6,isNative:!1,isPopular:!0,networkLogoURI:"https://uni.onekey-asset.com/static/chain/eth.png"},i={networkId:"sol--101",contractAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",name:"USDC",symbol:"USDC",decimals:6,isNative:!1,networkLogoURI:"https://uni.onekey-asset.com/static/chain/sol.png"},isSupportStaking=function(e){return["BTC","SBTC","ETH","SOL","APT","ATOM","MATIC"].includes(e.toUpperCase())};function getImportFromToken({networkId:e,tokenSymbol:t,isSupportSwap:r=!0}){var c,l=r?a.qX.SWAP:a.qX.BRIDGE,p=(0,o.V)();switch(e){case p.btc:case p.sbtc:c=n,l=a.qX.BRIDGE;break;case p.eth:case p.holesky:case p.sepolia:c="MATIC"===t?n:s,l=a.qX.SWAP;break;case p.sol:c=i,l=a.qX.SWAP;break;case p.apt:c=n,l=a.qX.BRIDGE}return{importFromToken:c,swapTabSwitchType:l}}}}]);
//# sourceMappingURL=9383.03f250dc5f.chunk.js.map