!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="b1e7ac71-4787-4d33-b650-dc56a28120fb",e._sentryDebugIdIdentifier="sentry-dbid-b1e7ac71-4787-4d33-b650-dc56a28120fb")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"5.5.1 (2024123091)"},(self.webpackChunkweb=self.webpackChunkweb||[]).push([[86719],{583354:(e,t,n)=>{n.d(t,{D:()=>r,U:()=>o});var o=function(e){return e.hd="hd",e.qr="qr",e.hardware="hardware",e.imported="imported",e.watching="watching",e.external="external",e}({}),r=function(e){return e.DEPOSIT="deposit",e.WITHDRAW="withdraw",e}({})},82506:(e,t,n)=>{n.d(t,{d:()=>useDebounce});var o=n(578104);function useDebounce(e,t,n){var[r]=(0,o.d7)(e,t,n);return r}},892563:(e,t,n)=>{n.d(t,{Y:()=>ActionBase});var o=n(324586),r=n(586330),a=n(839850),s=n(514041),i=n(490343),c=n(643087),p=n(398509),u=n(181447),l=(n(663522),n(117746)),d=n(69531),m=n(831085),w=["networkId","tokenAddress","type","label","icon","accountId","walletType","disabled","hiddenIfDisabled"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ActionBase=function(e){var{networkId:t,tokenAddress:n,type:o,label:f,icon:g,accountId:S,walletType:k,disabled:y,hiddenIfDisabled:b}=e,v=(0,a.A)(e,w),[A,x]=(0,s.useState)(!1),{result:h}=(0,d.M7)(t,n,o),I=(0,s.useMemo)((function(){return k===u.Hk||!h}),[h,k]),T=(0,s.useCallback)((0,r.A)((function*(){x(!0);try{var{url:e}=yield c.A.serviceFiatCrypto.generateWidgetUrl({networkId:t,tokenAddress:n,accountId:S,type:o});if(!e)return void i.Toast.error({title:"Failed to get widget url"});(0,l.Dr)(e)}finally{x(!1)}})),[t,n,o,S]);return b&&I?null:(0,m.jsx)(p.A,_objectSpread(_objectSpread({loading:A,label:f,icon:g,disabled:y||I,onPress:T},v),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionBase","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/TokenDetails/ActionBase.tsx"}))}},484910:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(324586),r=n(839850),a=n(908867),s=n(564452),i=n(334439),c=n(892563),p=n(831085),u=["networkId","tokenAddress","accountId","walletType"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const l=(0,s.k)((function(e){var{networkId:t,tokenAddress:n,accountId:o,walletType:s}=e,l=(0,r.A)(e,u),d=(0,a.A)();return(0,p.jsx)(c.Y,_objectSpread(_objectSpread({networkId:t,tokenAddress:n,accountId:o,label:d.formatMessage({id:i.ETranslations.global_buy}),icon:"PlusLargeOutline",type:"buy",walletType:s},l),{},{"data-sentry-element":"ActionBase","data-sentry-component":"ActionBuy","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/AssetDetails/pages/TokenDetails/ActionBuy.tsx"}))}))},69531:(e,t,n)=>{n.d(t,{M7:()=>useSupportToken,TH:()=>useFiatCrypto,ej:()=>useGetTokensList});var o=n(586330),r=n(514041),a=n(498356),s=n(384013),i=n(193068),c=n(553083),p=n(643087),u=n(911998),useSupportNetworkId=function(e,t){return(0,u.yk)((0,o.A)((function*(){return!!t&&(!!c.Ay.isAllNetwork({networkId:t})||p.A.serviceFiatCrypto.isNetworkSupported({networkId:t,type:e}))})),[t,e],{initResult:!1,debounced:100})},useSupportToken=function(e,t,n){return(0,u.yk)((0,o.A)((function*(){return p.A.serviceFiatCrypto.isTokenSupported({networkId:e,tokenAddress:t,type:n})})),[e,t,n],{initResult:!1,debounced:100})},useGetTokensList=function({networkId:e,type:t,accountId:n}){return(0,u.yk)((0,o.A)((function*(){return yield p.A.serviceFiatCrypto.getTokensList({networkId:e,type:t,accountId:n})})),[e,t,n],{initResult:[],watchLoading:!0})};function useFiatCrypto({accountId:e,networkId:t,fiatCryptoType:n}){var{result:o}=useSupportNetworkId(n,t),[c]=(0,s.RI)(),[p]=(0,s.D4)(),u=(0,a.A)();return{handleFiatCrypto:(0,r.useCallback)((function(){u.pushModal(i.ry.FiatCryptoModal,{screen:"buy"===n?i.Mg.BuyModal:i.Mg.SellModal,params:{networkId:t,accountId:e,tokens:c.tokens,map:p}})}),[e,u,t,c,p,n]),isSupported:Boolean(t&&e&&o)}}},398509:(e,t,n)=>{n.d(t,{A:()=>ActionItem,c:()=>RawActions});var o=n(324586),r=n(839850),a=n(514041),s=n(908867),i=n(490343),c=n(334439),p=n(831085),u=["icon","label","verticalContainerProps","showButtonStyle"],l=["children"];function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ActionItem(e){var{icon:t="PlaceholderOutline",label:n,verticalContainerProps:o,showButtonStyle:a=!1}=e,s=(0,r.A)(e,u),c=(0,i.useMedia)();return a||c.gtSm?(0,p.jsx)(i.Button,_objectSpread(_objectSpread(_objectSpread({},!n&&{icon:t,py:"$2",pl:"$2.5",pr:"$0.5"}),s),{},{children:n})):(0,p.jsxs)(i.Stack,_objectSpread(_objectSpread({alignItems:"center",maxWidth:50},o),{},{"data-sentry-element":"Stack","data-sentry-component":"ActionItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx",children:[(0,p.jsx)(i.IconButton,_objectSpread(_objectSpread({size:"large",icon:t},s),{},{"data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"})),(0,p.jsx)(i.SizableText,{mt:"$2",textAlign:"center",size:"$bodySm",color:"$textSubdued",minWidth:"$20",numberOfLines:1,"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx",children:n})]}))}function RawActions(e){var{children:t}=e,n=(0,r.A)(e,l);return(0,p.jsx)(i.XStack,_objectSpread(_objectSpread({justifyContent:"space-between",$gtSm:{flexDirection:"row",justifyContent:"flex-start",gap:"$2"}},n),{},{"data-sentry-element":"XStack","data-sentry-component":"RawActions","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx",children:a.Children.toArray(t)}))}RawActions.More=function ActionMore({sections:e}){var t=(0,s.A)(),n=(0,i.useMedia)();return(0,p.jsx)(i.ActionList,{title:t.formatMessage({id:c.ETranslations.global_more}),floatingPanelProps:{w:"$60"},renderTrigger:(0,p.jsx)(ActionItem,_objectSpread({icon:"DotHorOutline"},n.sm&&{label:t.formatMessage({id:c.ETranslations.global_more})})),sections:e,"data-sentry-element":"ActionList","data-sentry-component":"ActionMore","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"})},RawActions.Buy=function ActionBuy(e){var t=(0,s.A)();return(0,p.jsx)(ActionItem,_objectSpread(_objectSpread({label:t.formatMessage({id:c.ETranslations.global_buy}),icon:"PlusLargeOutline"},e),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionBuy","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"}))},RawActions.Sell=function ActionSell(e){var t=(0,s.A)();return(0,p.jsx)(ActionItem,_objectSpread(_objectSpread({label:t.formatMessage({id:c.ETranslations.global_cash_out}),icon:"MinusLargeOutline"},e),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionSell","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"}))},RawActions.Send=function ActionSend(e){var t=(0,s.A)();return(0,p.jsx)(ActionItem,_objectSpread(_objectSpread({label:t.formatMessage({id:c.ETranslations.global_send}),icon:"ArrowTopOutline"},e),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionSend","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"}))},RawActions.Receive=function ActionReceive(e){var t=(0,s.A)();return(0,p.jsx)(ActionItem,_objectSpread(_objectSpread({label:t.formatMessage({id:c.ETranslations.global_receive}),icon:"ArrowBottomOutline"},e),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionReceive","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"}))},RawActions.Swap=function ActionSwap(e){var t=(0,s.A)();return(0,p.jsx)(ActionItem,_objectSpread(_objectSpread({label:t.formatMessage({id:c.ETranslations.global_swap}),icon:"SwitchHorOutline"},e),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionSwap","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"}))},RawActions.Bridge=function ActionBridge(e){var t=(0,s.A)();return(0,p.jsx)(ActionItem,_objectSpread(_objectSpread({label:t.formatMessage({id:c.ETranslations.swap_page_bridge}),icon:"BridgeOutline"},e),{},{"data-sentry-element":"ActionItem","data-sentry-component":"ActionBridge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Home/components/WalletActions/RawActions.tsx"}))}},20322:(e,t,n)=>{n.d(t,{Gr:()=>useSwapRecipientAddressInfo,jA:()=>useSwapFromAccountNetworkSync,zf:()=>useSwapAddressInfo});var o=n(324586),r=n(586330),a=n(712784),s=n.n(a),i=n(514041),c=n(490343),p=n(153763),u=n(471169),l=n(193068),d=n(491180),m=n(553083),w=n(619390),f=n(643087),g=n(317522),S=n(911998),k=n(162616),y=n(325529);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useSwapFromAccountNetworkSync(){var{updateSelectedAccountNetwork:e}=(0,k.z$)().current,[t]=(0,y.NE)(),{activeAccount:n}=(0,k.LH)({num:1}),{activeAccount:o}=(0,k.LH)({num:0}),[a,d]=(0,y.rv)(),[m]=(0,y.dF)(),[,w]=(0,u.useSettingsAtom)(),[f]=(0,y.Q8)(),S=(0,i.useRef)(),b=(0,i.useRef)(),v=(0,i.useRef)(),A=(0,i.useRef)(a),x=(0,i.useRef)(n),h=(0,i.useRef)(o);x.current!==n&&(x.current=n),h.current!==o&&(h.current=o),S.current!==t&&(S.current=t),b.current!==f&&(b.current=f),A.current!==a&&(A.current=a),v.current!==m&&(v.current=m);var I,T=(0,i.useCallback)(s()((0,r.A)((function*(){S.current&&(yield e({num:0,networkId:S.current?.networkId})),b.current&&(yield e({num:1,networkId:b.current?.networkId})),S.current&&b.current&&(A.current?.networkId&&b.current?.networkId!==A.current?.networkId||!A.current?.networkId&&!x.current?.account&&x.current?.wallet||!1===v.current||!A.current.address&&x.current.account?.id!==h.current.account?.id)&&(w((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!1})})),d((function(e){return _objectSpread(_objectSpread({},e),{},{address:void 0})})),setTimeout((function(){b.current?.networkId&&x.current.network?.id&&b.current?.networkId!==x.current.network.id&&e({num:1,networkId:b.current?.networkId})}),500))})),100),[w,e]),j=(0,c.usePageType)();(0,g.A)(l.V4.Swap,(I=(0,r.A)((function*(e,t){if(j!==c.EPageType.modal){if(t)return;e&&(yield T())}})),function(e,t){return I.apply(this,arguments)})),(0,i.useEffect)((function(){j!==c.EPageType.modal&&(0,r.A)((function*(){yield T()}))()}),[T,t?.networkId,t?.contractAddress,f?.networkId,f?.contractAddress,m,j]);var O=(0,p.E)();(0,i.useEffect)((function(){j===c.EPageType.modal&&O&&(0,r.A)((function*(){yield T()}))()}),[T,O,j,t?.networkId,t?.contractAddress,f?.networkId,f?.contractAddress,m])}function useSwapAddressInfo(e){var{activeAccount:t}=(0,k.LH)({num:e===w.En.FROM?0:1}),[{swapToAnotherAccountSwitchOn:n}]=(0,u.useSettingsAtom)(),[o]=(0,y.rv)();return(0,i.useMemo)((function(){var r={networkId:void 0,address:void 0,accountInfo:void 0,activeAccount:void 0};return e===w.En.TO&&n&&o.address&&o.networkId&&t&&t.network?.id===o.networkId?_objectSpread(_objectSpread({},r),{},{address:o.address,networkId:o.networkId,accountInfo:o.accountInfo,activeAccount:_objectSpread({},t)}):t?_objectSpread(_objectSpread({},r),{},{address:t.account?.address,networkId:t.network?.id,accountInfo:_objectSpread({},t),activeAccount:_objectSpread({},t)}):r}),[e,n,o,t])}function useSwapRecipientAddressInfo(e){var t=useSwapAddressInfo(w.En.FROM),n=useSwapAddressInfo(w.En.TO),[o]=(0,y.Zr)(),[{swapToAnotherAccountSwitchOn:a}]=(0,u.useSettingsAtom)(),[s]=(0,y.rv)(),i=(0,S.yk)((0,r.A)((function*(){return e?n.networkId&&!m.Ay.isAllNetwork({networkId:n.networkId})&&t.accountInfo?.account?.id&&t.accountInfo?.indexedAccount?.id?yield f.A.serviceStaking.getEarnAccount({accountId:t.accountInfo?.account?.id,networkId:n.networkId,indexedAccountId:t.accountInfo?.indexedAccount?.id}):void 0:null})),[e,n.networkId,t.accountInfo?.account?.id,t.accountInfo?.indexedAccount?.id],{}),c=(0,S.yk)((0,r.A)((function*(){if(s.networkId&&s.address){var e=yield f.A.serviceAccount.getAccountNameFromAddress({networkId:s.networkId,address:s.address});if(e.length>0)return e[0]}})),[s.address,s.networkId],{});if(n.address===s.address&&a&&(i?.result?.accountAddress&&i?.result?.accountAddress!==s.address||!i?.result?.accountAddress)&&s.networkId===o?.toTokenInfo.networkId)return{accountInfo:s.accountInfo?.account?.address===s.address?{walletName:s.accountInfo?.wallet?.name,accountName:s.accountInfo?.accountName,accountId:s.accountInfo?.account?.id}:c.result,showAddress:d.A.shortenAddress({address:s.address,leadingLength:6,trailingLength:6}),isExtAccount:s.accountInfo?.account?.address!==s.address&&!c.result}}},866063:(e,t,n)=>{n.d(t,{FI:()=>useSwapInit,GM:()=>useSwapTokenList,ZF:()=>useSwapSelectedTokenInfo});var o=n(712784),r=n.n(o),a=n(324586),s=n(503668),i=n.n(s),c=n(586330),p=n(514041),u=n(241440),l=n(490343),d=n(153763),m=n(471169),w=n(625931),f=n(22937),g=n(193068),S=n(553083),k=n(734818),y=n(58546),b=n(619390),v=n(643087),A=n(317522),x=n(162616),h=n(325529),I=n(20322);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useSwapInit(e){var[t,n]=(0,h.ZM)(),[o,r]=(0,h.NE)(),[a,s]=(0,h.Q8)(),[,u]=(0,m.useInAppNotificationAtom)(),{syncNetworksSort:d,needChangeToken:f}=(0,h.eR)().current,k=(0,I.zf)(b.En.FROM),{updateSelectedAccountNetwork:T}=(0,x.z$)().current,[j,O]=(0,p.useState)(!0),[_,C]=(0,p.useState)(!1),R=(0,p.useRef)(),[E]=(0,h.sK)(),{swapTypeSwitchAction:P}=(0,h.eR)().current;R.current!==k&&(R.current=k);var M=(0,p.useRef)([]);M.current!==t&&(M.current=t);var $=(0,p.useRef)();$.current!==o&&($.current=o);var D=(0,p.useRef)();D.current!==a&&(D.current=a);var N=(0,p.useCallback)((0,c.A)((function*(){if(t.length)O(!1);else{var e=yield v.A.simpleDb.swapNetworksSort.getRawData();if(e?.data?.length){var o=e?.data.every((function(e){return i()(e.supportCrossChainSwap)&&i()(e.supportSingleSwap)}));o?(e=null,v.A.simpleDb.swapNetworksSort.setRawData({data:[]})):(n(e.data),O(!1))}var r=[],a=yield v.A.serviceSwap.fetchSwapNetworks();if(r=[...a],e?.data?.length&&a?.length){var s=e.data;r=s.filter((function(e){return a.find((function(t){return t.networkId===e.networkId}))})).map((function(e){var t=a.find((function(t){return t.networkId===e.networkId}));return _objectSpread(_objectSpread({},e),t)})).concat(a.filter((function(e){return!s.find((function(t){return t.networkId===e.networkId}))})))}r.length&&(yield v.A.simpleDb.swapNetworksSort.setRawData({data:r}),e?.data?.length&&e?.data?.length===r.length||(n(r),O(!1)))}})),[n,t.length]),B=(0,p.useCallback)((function(n,o){var r=t.find((function(e){return e.networkId===n.networkId})),a=[];if(r&&(r.supportSingleSwap&&(a=[...a,b.qX.SWAP]),r.supportCrossChainSwap&&(a=[...a,b.qX.BRIDGE])),!e?.swapTabSwitchType&&o&&a.length>0&&!a.includes(E)){var s,i=a.find((function(e){return e!==E}));if(i)P(i,null!=(s=R.current?.networkId)?s:$.current?.networkId)}return a}),[e?.swapTabSwitchType,t,E,P]),z=(0,p.useCallback)((0,c.A)((function*(){if(!$.current&&!D.current)if(e?.importFromToken&&M.current.find((function(t){return t.networkId===e?.importFromToken?.networkId}))||e?.importToToken&&M.current.find((function(t){return t.networkId===e?.importToToken?.networkId}))){var t,n;if(e?.importFromToken){var o=B(e?.importFromToken);e?.swapTabSwitchType&&o.includes(e?.swapTabSwitchType)&&r(e?.importFromToken)}if(e?.importToToken){var a=B(e?.importToToken);e?.swapTabSwitchType&&a.includes(e?.swapTabSwitchType)&&s(e?.importToToken)}if(e?.importFromToken&&!e?.importToToken){var c,p=f({token:e.importFromToken,swapTypeSwitchValue:null!=(c=e?.swapTabSwitchType)?c:b.qX.SWAP});if(p){var u=B(p);e?.swapTabSwitchType&&u.includes(e?.swapTabSwitchType)&&s(p)}}d(null!=(t=null!=(n=e?.importFromToken?.networkId)?n:e?.importToToken?.networkId)?t:(0,w.V)().onekeyall)}else if(R.current?.accountInfo?.ready&&R.current?.networkId&&M.current.length&&(!e?.importNetworkId||!R.current?.networkId||e?.importNetworkId===R.current?.networkId)&&!_){var l=S.Ay.isAllNetwork({networkId:R.current?.networkId}),m=M.current.find((function(e){return e.networkId===R.current?.networkId})),g=m,k=m?.networkId;if(l){k=(0,w.V)().onekeyall;var v=y.TW[k]?.fromToken;g=M.current.find((function(e){return e.networkId===v?.networkId}))}if(g&&k&&(!i()(y.TW[k]?.fromToken)||!i()(y.TW[k]?.toToken))){var A=y.TW[k]?.fromToken,x=y.TW[k]?.toToken;A&&(r(_objectSpread(_objectSpread({},A),{},{networkLogoURI:l?A.networkLogoURI:g?.logoURI})),d(A.networkId)),x&&(s(_objectSpread(_objectSpread({},x),{},{networkLogoURI:l?x.networkLogoURI:g?.logoURI})),d(x.networkId)),A&&B(A,!0)}}})),[e?.importFromToken,e?.importToToken,e?.importNetworkId,e?.swapTabSwitchType,_,d,B,r,s,f]);(0,p.useEffect)((function(){(0,c.A)((function*(){yield v.A.serviceSwap.swapRecentTokenSync()}))()}),[u]),(0,p.useEffect)((function(){(0,c.A)((function*(){yield N()}))()}),[N,t.length]),(0,p.useEffect)((function(){(0,c.A)((function*(){e?.importNetworkId&&R.current?.networkId&&e?.importNetworkId!==R.current.networkId&&(yield T({num:0,networkId:e?.importNetworkId}))}))()}),[e?.importNetworkId,T]),(0,p.useEffect)((function(){(0,c.A)((function*(){yield z()}))()}),[k.accountInfo?.ready,t.length,k.networkId,e?.importFromToken,e?.importToToken,e?.importNetworkId]);var F=(0,l.usePageType)();return(0,A.A)(g.V4.Swap,(function(e,t){F!==l.EPageType.modal&&e&&C(!!t)})),{fetchLoading:j}}function useSwapTokenList(e,t,n){var[o,r]=(0,p.useState)([]),[{tokenCatch:a}]=(0,h.PQ)(),[s]=(0,h.Yb)(),i=(0,p.useRef)([]),[l]=(0,h.ZM)(),[d]=(0,h.qv)(),{tokenListFetchAction:m,swapLoadAllNetworkTokenList:w}=(0,h.eR)().current,g=(0,I.zf)(e),[y]=(0,h.Hb)();(0,p.useEffect)((function(){(0,c.A)((function*(){var e,{swapSupportAccounts:t}=yield v.A.serviceSwap.getSupportSwapAllAccounts({indexedAccountId:g?.accountInfo?.indexedAccount?.id,otherWalletTypeAccountId:g?.accountInfo?.indexedAccount?.id?void 0:null!=(e=g?.accountInfo?.account?.id)?e:g?.accountInfo?.dbAccount?.id,swapSupportNetworks:l});i.current=t}))()}),[g?.accountInfo?.account?.id,g?.accountInfo?.dbAccount?.id,g?.accountInfo?.indexedAccount?.id,l]);var b=(0,p.useMemo)((function(){var e=i.current.find((function(e){return e.networkId===t}));return g.networkId===t?{networkId:t,keywords:n,accountAddress:g?.address,accountNetworkId:g?.networkId,accountId:g?.accountInfo?.account?.id}:{networkId:t,keywords:n,accountAddress:e?.apiAddress,accountNetworkId:e?.networkId,accountId:e?.accountId}}),[t,g.networkId,g?.address,g?.accountInfo?.account?.id,n]),A=(0,p.useMemo)((function(){var e,t,n;return s[null!=(e=null!=(t=null!=(n=g?.accountInfo?.indexedAccount?.id)?n:g?.accountInfo?.account?.id)?t:g?.accountInfo?.dbAccount?.id)?e:"noAccountId"]}),[s,g?.accountInfo?.indexedAccount?.id,g?.accountInfo?.account?.id,g?.accountInfo?.dbAccount?.id]),x=(0,p.useCallback)((function(e){var t=e.filter((function(e){var t,n=new u.A(null!=(t=e.price)?t:"0");return!n.isNaN()&&!n.isZero()}))?.sort((function(e,t){var n,o,r=new u.A(null!=(n=e.fiatValue)?n:"0");return new u.A(null!=(o=t.fiatValue)?o:"0").comparedTo(r)})),n=e.filter((function(e){var t,n=new u.A(null!=(t=e.price)?t:"0");return n.isNaN()||n.isZero()}))?.sort((function(e,t){var n,o,r=new u.A(null!=(n=e.fiatValue)?n:"0");return new u.A(null!=(o=t.fiatValue)?o:"0").comparedTo(r)}));return[...t,...n]}),[]),T=(0,p.useCallback)((function({swapAllNetRecommend:e,swapSearchTokens:t}){var n,o;if(e?.length&&!A)return[];var r=null!=(n=A?.map((function(e){var t=l.find((function(t){return t.networkId===e.networkId}));return t?_objectSpread(_objectSpread({},e),{},{networkLogoURI:t.logoURI}):e}))?.filter((function(e){return d.find((function(t){return t.networkId===e.networkId}))})))?n:[],a=null!=(o=r?.filter((function(e){var t,n=new u.A(null!=(t=e?.balanceParsed)?t:"0");return!n.isNaN()&&!n.isZero()})))?o:[];if(e){var s,i=null!=(s=e?.filter((function(e){return!a?.find((function(t){return(0,k.BQ)({token1:{networkId:t?.networkId,contractAddress:t?.contractAddress},token2:{networkId:e?.networkId,contractAddress:e?.contractAddress}})}))}))?.filter((function(e){return d.find((function(t){return t.networkId===e.networkId}))})))?s:[],c=[...a,...i];return x(null!=c?c:[])}if(t){var p=t.map((function(e){if(d.find((function(t){return t.networkId===e.networkId}))){var t=a.find((function(t){return t?.contractAddress===e?.contractAddress&&t?.networkId===e?.networkId}));return t||e}})).filter((function(e){return e}));return x(null!=p?p:[])}return[]}),[x,A,l,d]),j=(0,f.bJ)(S.Ay.isAllNetwork({networkId:b.networkId})&&n?T({swapSearchTokens:a?.[JSON.stringify(b)]?.data||[]}):a?.[JSON.stringify(b)]?.data||[],{shouldSort:!1,keys:["symbol","contractAddress"]}),O=(0,p.useRef)(j);return O.current!==j&&(O.current=j),(0,p.useEffect)((function(){var e;b.networkId&&!n&&S.Ay.isAllNetwork({networkId:b.networkId})&&w(g?.accountInfo?.indexedAccount?.id,g?.accountInfo?.indexedAccount?.id?void 0:null!=(e=g?.accountInfo?.account?.id)?e:g?.accountInfo?.dbAccount?.id);m(b)}),[g?.accountInfo?.account?.id,g?.accountInfo?.dbAccount?.id,g?.accountInfo?.indexedAccount?.id,w,b,m,n]),(0,p.useEffect)((function(){n&&O.current?r(O.current.search(n)):r(S.Ay.isAllNetwork({networkId:b.networkId})?T({swapAllNetRecommend:a?.[JSON.stringify(b)]?.data||[]}):a?.[JSON.stringify(b)]?.data||[])}),[a,b,t,n,T]),{fetchLoading:y&&0===o.length||S.Ay.isAllNetwork({networkId:b.networkId})&&!A,currentTokens:o}}function useSwapSelectedTokenInfo({token:e,type:t}){var n=(0,I.zf)(b.En.FROM),[o,a]=(0,p.useState)(0),[{swapHistoryPendingList:s}]=(0,m.useInAppNotificationAtom)(),{loadSwapSelectTokenDetail:i}=(0,h.eR)().current,c=(0,p.useRef)(s);c.current!==s&&(c.current=s);var u=(0,p.useRef)(o);u.current!==o&&(u.current=o);var w=(0,p.useRef)(n);w.current!==n&&(w.current=n);var f=(0,d.E)(),S=(0,p.useRef)(f);S.current!==f&&(S.current=f);var k=(0,p.useCallback)(r()((function(e,t,n){i(e,t,n)}),200),[]);(0,p.useEffect)((function(){if(S.current&&s.length){var e=s.filter((function(e){return e.status===b.lr.SUCCESS})).length;e>u.current&&(k(t,w.current,!0),a(e))}}),[k,s,t]),(0,p.useEffect)((function(){k(t,w.current,!e?.reservationValue&&e?.isNative)}),[t,n,e?.networkId,e?.contractAddress,e?.balanceParsed,k,e?.reservationValue,e?.isNative]);var y=(0,l.usePageType)();(0,A.A)(g.V4.Swap,(function(e,n){if(y!==l.EPageType.modal&&e&&!n&&c.current.length){var o=c.current.filter((function(e){return e.status===b.lr.SUCCESS})).length;o>u.current&&(k(t,w.current,!0),a(o))}}))}},309008:(e,t,n)=>{n.d(t,{o:()=>u});var o=n(324586),r=n(514041),a=n(325529),s=n(2577),i=n(597102),c=n(829561),p=n(831085);function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=(0,r.memo)((function(e){var{children:t,storeName:n}=e,o=(0,c.x6)(n),r=s.A.getOrCreateStore(o);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(i.H,_objectSpread({},o)),(0,p.jsx)(a.BY,{store:r,children:t})]})}));u.displayName="SwapProviderMirror"},186719:(e,t,n)=>{n.d(t,{A:()=>SwapMainLand});var o=n(324586),r=n(586330),a=n(514041),s=n(241440),i=n(490343),c=n(498356),p=n(325529),u=n(471169),l=n(193068),d=n(628380),m=n(58546),w=n(619390),f=n(908867),g=n(17617),S=n(334439),k=n(391944),y=n(831085);const b=(0,a.memo)((function({onSelectTokenPairs:e,tokenPairs:t,fromTokenAmount:n}){var o=(0,f.A)(),[r,c]=(0,a.useState)(!1),[u]=(0,p.sK)(),l=new s.A(null!=n?n:0),d=(0,a.useMemo)((function(){return u===w.qX.BRIDGE?t?.filter((function(e){return e.fromToken.networkId!==e.toToken.networkId})):u===w.qX.SWAP?t?.filter((function(e){return e.toToken.networkId===e.fromToken.networkId})):[]}),[u,t]),m=(0,a.useCallback)((function(){var t=!r&&d.length>=4?d.slice(0,3):d;return(0,y.jsx)(i.XStack,{pt:"$1",pb:"$3",gap:"$1.5",flexWrap:"wrap",children:(0,y.jsxs)(y.Fragment,{children:[t.map((function(t,n){return(0,y.jsxs)(i.XStack,{role:"button",userSelect:"none",alignItems:"center",pl:"$1",pr:"$2.5",py:"$1",bg:"$bg",borderRadius:"$4",borderWidth:g.A.hairlineWidth,borderColor:"$borderSubdued",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},focusable:!0,focusVisibleStyle:{outlineColor:"$focusRing",outlineStyle:"solid",outlineWidth:2,outlineOffset:2},onPress:function(){e(t)},children:[(0,y.jsx)(i.YStack,{borderWidth:2,borderRadius:"$full",borderColor:"$bg",my:"$-0.5",children:(0,y.jsx)(k.o,{w:"$4.5",h:"$4.5",size:"sm",tokenImageUri:t.fromToken.logoURI})}),(0,y.jsx)(i.YStack,{borderWidth:2,borderRadius:"$full",borderColor:"$bg",ml:"$-2",my:"$-0.5",children:(0,y.jsx)(k.o,{w:"$4.5",h:"$4.5",size:"sm",tokenImageUri:t.toToken.logoURI})}),(0,y.jsx)(i.SizableText,{ml:"$1",size:"$bodyMdMedium",children:`${t.fromToken.symbol} → ${t.toToken.symbol}`})]},n)})),d.length>=4?(0,y.jsxs)(i.XStack,{role:"button",userSelect:"none",alignItems:"center",pl:"$1.5",pr:"$2.5",py:"$1",bg:"$bg",gap:"$1",borderRadius:"$full",borderWidth:g.A.hairlineWidth,borderColor:"$borderSubdued",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},focusable:!0,focusVisibleStyle:{outlineColor:"$focusRing",outlineStyle:"solid",outlineWidth:2,outlineOffset:2},onPress:function(){c(!r)},children:[(0,y.jsx)(i.Icon,{size:"$4.5",name:r?"MinusSmallOutline":"PlusSmallOutline",color:"$iconSubdued"}),(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:r?o.formatMessage({id:S.ETranslations.global_show_less}):o.formatMessage({id:S.ETranslations.global_show_more})})]},"more-token-pairs"):null]})})}),[o,e,r,d]);return(l.isZero()||l.isNaN())&&d?.length?(0,y.jsxs)(i.YStack,{gap:"$1","data-sentry-element":"YStack","data-sentry-component":"SwapRecentTokenPairsGroup","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRecentTokenPairsGroup.tsx",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRecentTokenPairsGroup.tsx",children:o.formatMessage({id:S.ETranslations.swap_page_recent_trade})}),m()]}):null}));var v=n(20322),A=n(583354),x=n(296827),h=n(403144),I=n(734818),T=n(643087),j=n(927799),O=n(503668),_=n.n(O),C=n(712784),R=n.n(C),E=n(153763),P=n(491180),M=n(82506);function useSwapQuoteLoading(){var[e]=(0,p.iA)(),[t]=(0,p.I4)();return e||t}function useSwapQuoteEventFetching(){var[e]=(0,p.vS)(),[t]=(0,p.mA)();return e.count>0&&t.length<e.count}function useSwapBatchTransfer(e,t){var[n]=(0,u.useSettingsPersistAtom)(),o=P.A.isExternalAccount({accountId:null!=t?t:""}),r=w.FL.includes(null!=e?e:"");return n.swapBatchApproveAndSwap&&!r&&!o}function useSwapActionState(){var e=(0,f.A)(),t=useSwapQuoteLoading(),n=useSwapQuoteEventFetching(),[o]=(0,p.Zr)(),[r]=(0,p.sh)(),[i]=(0,p.VS)(),[c]=(0,p.NE)(),[u]=(0,p.Q8)(),[l]=(0,p.oz)(),[d]=(0,p.rE)();!function useSwapWarningCheck(){var e=(0,v.zf)(w.En.FROM),t=(0,v.zf)(w.En.TO),[n]=(0,p.NE)(),[o]=(0,p.Q8)(),[r]=(0,p.Zr)(),[s]=(0,p.VS)(),[i]=(0,p.kz)(),{checkSwapWarning:c}=(0,p.eR)().current,u=(0,a.useRef)({swapFromAddressInfo:{address:void 0,networkId:void 0,accountInfo:void 0,activeAccount:void 0},swapToAddressInfo:{address:void 0,networkId:void 0,accountInfo:void 0,activeAccount:void 0}}),l=(0,E.E)(),d=(0,a.useCallback)((function(){u.current.swapFromAddressInfo!==e&&(u.current.swapFromAddressInfo=e),u.current.swapToAddressInfo!==t&&(u.current.swapToAddressInfo=t)}),[e,t]),m=(0,a.useCallback)(R()((function(e,t){c(e,t)}),300),[]);(0,a.useEffect)((function(){l&&(d(),m(u.current.swapFromAddressInfo,u.current.swapToAddressInfo))}),[d,m,n,s,o,i,r,l])}();var[g]=(0,p.LX)(),[k]=(0,p.kz)(),y=c?.networkId!==u?.networkId,b=(0,v.zf)(w.En.FROM),A=(0,v.zf)(w.En.TO),[x]=(0,p.SR)(),h=useSwapBatchTransfer(b.networkId,b.accountInfo?.account?.id),I=(0,a.useMemo)((function(){return x>m.si||l}),[x,l]),T=g.states.some((function(e){return e.alertLevel===w.HM.ERROR})),j=(0,a.useMemo)((function(){return o&&(o.fromTokenInfo.networkId!==c?.networkId||o.toTokenInfo.networkId!==u?.networkId||o.fromTokenInfo.contractAddress!==c?.contractAddress||o.toTokenInfo.contractAddress!==u?.contractAddress)||o?.allowanceResult&&o.allowanceResult.amount!==i}),[c?.contractAddress,c?.networkId,i,o,u?.contractAddress,u?.networkId]),O=(0,M.d)(j,10),_=(0,a.useMemo)((function(){var r={disable:!(!T&&o),label:e.formatMessage({id:S.ETranslations.swap_page_swap_button})};if(b.address&&A.address&&o?.fromAmount===i||(r.disable=!0),t||n)r.label=e.formatMessage({id:S.ETranslations.swap_page_button_fetching_quotes});else{y&&c&&u&&(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_cross_chain})),o&&o.isWrapped&&(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_wrap})),o&&o.allowanceResult&&(r.label=e.formatMessage({id:h?S.ETranslations.swap_page_approve_and_swap:S.ETranslations.global_approve})),!o||o.toAmount||o.limit||(r.label=e.formatMessage({id:S.ETranslations.swap_page_alert_no_provider_supports_trade}),r.disable=!0),o&&o.toAmount&&!A.address&&(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_enter_a_recipient}),r.disable=!0);var a=new s.A(null!=k?k:0),p=new s.A(i);c&&b.address&&a.lt(p)&&(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_insufficient_balance}),r.disable=!0),c&&u||(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_select_token}),r.disable=!0),i||(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_enter_amount}),r.disable=!0),(I||O)&&(r.label=e.formatMessage({id:S.ETranslations.swap_page_button_refresh_quotes}),r.disable=!1)}return r}),[c,i,T,e,y,I,o,n,t,O,k,h,b.address,A.address,u]);return{label:_.label,isLoading:r,disabled:_.disable||t||n,approveUnLimit:d,isApprove:!!o?.allowanceResult,isCrossChain:y,shoutResetApprove:!!o?.allowanceResult?.shouldResetApprove,isWrapped:!!o?.isWrapped,isRefreshQuote:(I||O)&&!t&&!n}}function useSwapSlippagePercentageModeInfo(){var[{swapSlippagePercentageCustomValue:e,swapSlippagePercentageMode:t}]=(0,u.useSettingsAtom)(),[n]=(0,p.Zr)();return(0,a.useMemo)((function(){var o=m.pQ,r=m.pQ;return _()(n?.autoSuggestedSlippage)||(o=n.autoSuggestedSlippage),r=t===w.k0.AUTO?o:e,{slippageItem:{key:t,value:r},autoValue:o}}),[n?.autoSuggestedSlippage,e,t])}function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function useSwapBuildTx(){var e,t,n,o,c,l,d,g=(0,f.A)(),[k]=(0,p.NE)(),[y]=(0,p.Q8)(),{slippageItem:b}=useSwapSlippagePercentageModeInfo(),[O]=(0,p.Zr)(),[,_]=(0,p.mA)(),[,C]=(0,p.vS)(),[,R]=(0,p.sh)(),[E,P]=(0,u.useInAppNotificationAtom)(),[,M]=(0,p.VS)(),[,$]=(0,p.oz)(),[D]=(0,p.sK)(),N=(0,v.zf)(w.En.FROM),B=(0,v.zf)(w.En.TO),[,z]=(0,p.wG)(),{generateSwapHistoryItem:F}=function useSwapTxHistoryActions(){var e,[t]=(0,p.ZM)(),[,n]=(0,p.NE)(),[,o]=(0,p.Q8)(),[,s]=(0,p.VS)(),[i]=(0,u.useSettingsPersistAtom)(),c=(0,a.useCallback)((e=(0,r.A)((function*({txId:e,gasFeeInNative:n,gasFeeFiatValue:o,swapTxInfo:r}){if(r){var a,s,c,p,u={status:w.lr.PENDING,currency:i.currencyInfo.symbol,accountInfo:{sender:{accountId:r.sender.accountInfo?.accountId,networkId:r.sender.accountInfo.networkId},receiver:{accountId:r.receiver.accountInfo?.accountId,networkId:r.receiver.accountInfo.networkId}},baseInfo:{toAmount:r.receiver.amount,fromAmount:r.sender.amount,fromToken:r.sender.token,toToken:r.receiver.token,fromNetwork:t.find((function(e){return e?.networkId===r.sender.token.networkId})),toNetwork:t.find((function(e){return e?.networkId===r.receiver.token.networkId}))},txInfo:{txId:e,gasFeeFiatValue:o,gasFeeInNative:n,orderId:r.swapBuildResData.swftOrder?.orderId,sender:r.accountAddress,receiver:r.receivingAddress},date:{created:Date.now(),updated:Date.now()},swapInfo:{instantRate:null!=(a=r.swapBuildResData.result.instantRate)?a:"0",provider:r.swapBuildResData.result.info,socketBridgeScanUrl:r.swapBuildResData.socketBridgeScanUrl,oneKeyFee:null!=(s=r.swapBuildResData.result.fee?.percentageFee)?s:0,protocolFee:null!=(c=r.swapBuildResData.result.fee?.protocolFees)?c:0,otherFeeInfos:null!=(p=r.swapBuildResData.result.fee?.otherFeeInfos)?p:[],orderId:r.swapBuildResData.orderId,supportUrl:r.swapBuildResData.result.supportUrl},ctx:r.swapBuildResData.ctx};yield T.A.serviceSwap.addSwapHistoryItem(u)}})),function(t){return e.apply(this,arguments)}),[i.currencyInfo.symbol,t]);return{generateSwapHistoryItem:c,swapAgainUseHistoryItem:(0,a.useCallback)((function(e){n(e?.baseInfo.fromToken),o(e?.baseInfo.toToken),s(e?.baseInfo.fromAmount)}),[n,s,o])}}(),[{isFirstTimeSwap:L},H]=(0,u.useSettingsPersistAtom)(),[,W]=(0,u.useSettingsAtom)(),{navigationToSendConfirm:V}=(0,j.E)({accountId:null!=(e=N.accountInfo?.account?.id)?e:"",networkId:null!=(t=N.networkId)?t:""}),X=(0,i.usePageType)(),U=useSwapBatchTransfer(N.networkId,N.accountInfo?.account?.id),K=(0,a.useCallback)((n=(0,r.A)((function*({swapFromToken:e,swapToToken:t}){yield T.A.serviceSwap.swapRecentTokenPairsUpdate({fromToken:e,toToken:t})})),function(e){return n.apply(this,arguments)}),[]),G=(0,a.useCallback)((o=(0,r.A)((function*(e){if(e?.[0]){M(""),_([]),C({count:0}),W((function(e){return _objectSpread(_objectSpread({},e),{},{swapToAnotherAccountSwitchOn:!1})}));var t=e[0].signedTx,n=e[0].decodedTx,o=t.txid,{swapInfo:r}=t,{totalFeeInNative:a,totalFeeFiatValue:s,networkId:i}=n;r&&(yield F({txId:o,gasFeeFiatValue:s,gasFeeInNative:a,swapTxInfo:r}),r.sender.token.networkId===r.receiver.token.networkId&&T.A.serviceNotification.blockNotificationForTxId({networkId:i,tx:o}))}R(!1)})),function(e){return o.apply(this,arguments)}),[F,R,M,_,C,W]),Q=(0,a.useCallback)((c=(0,r.A)((function*(e){if(e?.[0]){var t=e[0].signedTx.txid;E.swapApprovingTransaction&&!E.swapApprovingTransaction.resetApproveValue&&T.A.serviceNotification.blockNotificationForTxId({networkId:E.swapApprovingTransaction.fromToken.networkId,tx:t}),e[0].approveInfo?.swapApproveRes&&z(e[0].approveInfo?.swapApproveRes),P((function(e){return e.swapApprovingTransaction?_objectSpread(_objectSpread({},e),{},{swapApprovingTransaction:_objectSpread(_objectSpread({},e.swapApprovingTransaction),{},{txId:t})}):e}))}})),function(e){return c.apply(this,arguments)}),[E.swapApprovingTransaction,P,z]),q=(0,a.useCallback)((function(){R(!1)}),[R]),Y=(0,a.useCallback)((function(){q(),$(!0)}),[q,$]),Z=(0,a.useCallback)((function(){q(),P((function(e){return e.swapApprovingTransaction?_objectSpread(_objectSpread({},e),{},{swapApprovingTransaction:_objectSpread(_objectSpread({},e.swapApprovingTransaction),{},{status:w.MG.CANCEL})}):e}))}),[q,P]),J=(0,a.useCallback)((l=(0,r.A)((function*(e){var t,n=e?.fee?.otherFeeInfos,o=!0;return n?.length&&(yield Promise.all(n.map((t=(0,r.A)((function*(e){var t=yield T.A.serviceSwap.fetchSwapTokenDetails({networkId:e.token?.networkId,contractAddress:e.token?.contractAddress,accountAddress:N.address,accountId:N.accountInfo?.account?.id});if(t?.length){var n,r,a,c=new s.A(null!=(n=t[0].balanceParsed)?n:0),p=(0,I.BQ)({token1:e.token,token2:k}),u=new s.A(null!=(r=e.amount)?r:0),l=new s.A(null!=(a=O?.fromAmount)?a:0),d=p?u.plus(l).toFixed():u.toFixed();c.lt(d)&&(i.Toast.error({title:g.formatMessage({id:S.ETranslations.swap_page_toast_insufficient_balance_title},{token:e.token.symbol}),message:g.formatMessage({id:S.ETranslations.swap_page_toast_insufficient_balance_content},{token:e.token.symbol,number:(0,h.jq)(u.toFixed(),{formatter:"balance"})})}),o=!1)}})),function(e){return t.apply(this,arguments)})))),o})),function(e){return l.apply(this,arguments)}),[k,g,O?.fromAmount,N.accountInfo?.account?.id,N.address]),ee=(0,a.useCallback)((0,r.A)((function*(){if(k&&y&&O?.fromAmount&&O?.toAmount&&N.address&&B.address&&N.networkId){R(!0);var e=k.isNative?A.D.DEPOSIT:A.D.WITHDRAW,t={from:N.address,type:e,contract:e===A.D.WITHDRAW?k.contractAddress:y.contractAddress,amount:O?.fromAmount},n={sender:{amount:O?.fromAmount,token:k,accountInfo:{accountId:N.accountInfo?.account?.id,networkId:k.networkId}},receiver:{amount:O.toAmount,token:y,accountInfo:{accountId:B.accountInfo?.account?.id,networkId:y.networkId}},accountAddress:N.address,receivingAddress:B.address,swapBuildResData:{result:O}};yield V({wrappedInfo:t,swapInfo:n,isInternalSwap:!0,onSuccess:G,onCancel:q}),K({swapFromToken:k,swapToToken:y})}})),[k,y,O,N.address,N.networkId,N.accountInfo?.account?.id,B.address,B.accountInfo?.account?.id,R,V,G,q,K]),te=(0,a.useCallback)((0,r.A)((function*(){if(k&&y&&O?.fromAmount&&b&&O?.toAmount&&N.address&&B.address&&N.networkId){try{if(!(yield J(O)))return null;var e=yield T.A.serviceSwap.fetchBuildTx({fromToken:k,toToken:y,toTokenAmount:O.toAmount,fromTokenAmount:O.fromAmount,slippagePercentage:b.value,receivingAddress:B.address,userAddress:N.address,provider:O?.info.provider,accountId:N.accountInfo?.account?.id,quoteResultCtx:O?.quoteResultCtx});if(e){var t,n,o,r,a;if(e?.swftOrder)r=void 0,o={from:N.address,tokenInfo:_objectSpread(_objectSpread({},e.result.fromTokenInfo),{},{isNative:!!e.result.fromTokenInfo.isNative,address:e.result.fromTokenInfo.contractAddress,name:null!=(a=e.result.fromTokenInfo.name)?a:e.result.fromTokenInfo.symbol}),to:e.swftOrder.platformAddr,amount:e.swftOrder.depositCoinAmt,memo:e.swftOrder.memo};else if(e?.changellyOrder){var i;r=void 0,o={from:N.address,tokenInfo:_objectSpread(_objectSpread({},e.result.fromTokenInfo),{},{isNative:!!e.result.fromTokenInfo.isNative,address:e.result.fromTokenInfo.contractAddress,name:null!=(i=e.result.fromTokenInfo.name)?i:e.result.fromTokenInfo.symbol}),to:e.changellyOrder.payinAddress,amount:e.changellyOrder.amountExpectedFrom,memo:e.changellyOrder.payinExtraId}}else if(e?.thorSwapCallData){var c;r=void 0,o={from:N.address,tokenInfo:_objectSpread(_objectSpread({},e.result.fromTokenInfo),{},{isNative:!!e.result.fromTokenInfo.isNative,address:e.result.fromTokenInfo.contractAddress,name:null!=(c=e.result.fromTokenInfo.name)?c:e.result.fromTokenInfo.symbol}),to:e.thorSwapCallData.vault,opReturn:e.thorSwapCallData.hasStreamingSwap?e.thorSwapCallData.memoStreamingSwap:e.thorSwapCallData.memo,amount:new s.A(e.thorSwapCallData.amount).shiftedBy(-k.decimals).toFixed()}}else if(e?.OKXTxObject){var p;r=yield T.A.serviceSwap.buildOkxSwapEncodedTx({accountId:null!=(p=N?.accountInfo?.account?.id)?p:"",networkId:e.result.fromTokenInfo.networkId,okxTx:e.OKXTxObject,fromTokenInfo:e.result.fromTokenInfo,type:D})}else if(e?.tx)if(o=void 0,"string"!=typeof e.tx&&e.tx.data){var u,l=(0,h.Si)(new s.A(null!=(u=e.tx.value)?u:0));r=_objectSpread(_objectSpread({},e?.tx),{},{value:l,from:N.address})}else r=e.tx;var d=new s.A(null!=(t=e.result?.gasLimit)?t:0),m=new s.A(null!=(n=O?.gasLimit)?n:0);return!d.isNaN()&&!d.isZero()||m.isNaN()||m.isZero()||(e.result.gasLimit=m.toNumber()),!e.result?.routesData?.length&&O?.routesData?.length&&(e.result.routesData=O.routesData),{swapInfo:{sender:{amount:O.fromAmount,token:k,accountInfo:{accountId:N.accountInfo?.account?.id,networkId:k.networkId}},receiver:{amount:O.toAmount,token:y,accountInfo:{accountId:B.accountInfo?.account?.id,networkId:y.networkId}},accountAddress:N.address,receivingAddress:B.address,swapBuildResData:e},transferInfo:o,encodedTx:r}}}catch(e){}return null}})),[k,y,O,D,b,N.address,N.networkId,N.accountInfo?.account?.id,B.address,B.accountInfo?.account?.id,J]),ne=(0,a.useCallback)((d=(0,r.A)((function*(e,t,n){var o=O?.allowanceResult;if(o&&k&&y&&N.networkId&&N.accountInfo?.account?.id&&N.address)if(U)try{var r;R(!0);var a=[];if(a=[{owner:N.address,spender:o.allowanceTarget,amount:e,isMax:!n&&t,tokenInfo:_objectSpread(_objectSpread({},k),{},{isNative:!!k.isNative,address:k.contractAddress,name:null!=(r=k.name)?r:k.symbol}),swapApproveRes:O}],n&&e===m.XU){var s,c={owner:N.address,spender:o.allowanceTarget,amount:n,isMax:t,tokenInfo:_objectSpread(_objectSpread({},k),{},{isNative:!!k.isNative,address:k.contractAddress,name:null!=(s=k.name)?s:k.symbol}),swapApproveRes:O};a=[...a,c]}var p,u,l=yield te();l?(yield V({isInternalSwap:!0,transfersInfo:l.transferInfo?[l.transferInfo]:void 0,encodedTx:l.encodedTx,swapInfo:l.swapInfo,approvesInfo:a,onSuccess:G,onCancel:Y}),K({swapFromToken:k,swapToToken:y}),x.U.swap.createSwapOrder.swapCreateOrder({swapProvider:O?.info.provider,swapProviderName:O?.info.providerName,swapType:w.If.SWAP,slippage:b.value.toString(),sourceChain:k.networkId,receivedChain:y.networkId,sourceTokenSymbol:k.symbol,receivedTokenSymbol:y.symbol,feeType:null!=(p=O?.fee?.percentageFee?.toString())?p:"0",router:JSON.stringify(null!=(u=O?.routesData)?u:""),isFirstTime:L,createFrom:X===i.EPageType.modal?"modal":"swapPage"}),H((function(e){return _objectSpread(_objectSpread({},e),{},{isFirstTimeSwap:!1})}))):(R(!1),$(!0))}catch(e){R(!1),$(!0)}else try{var d;R(!0);var f={owner:N.address,spender:o.allowanceTarget,amount:e,isMax:!n&&t,tokenInfo:_objectSpread(_objectSpread({},k),{},{isNative:!!k.isNative,address:k.contractAddress,name:null!=(d=k.name)?d:k.symbol}),swapApproveRes:O};P((function(r){var a;return _objectSpread(_objectSpread({},r),{},{swapApprovingTransaction:{provider:O?.info.provider,fromToken:k,toToken:y,amount:e,useAddress:null!=(a=N.address)?a:"",spenderAddress:o.allowanceTarget,status:w.MG.PENDING,resetApproveValue:n,resetApproveIsMax:t}})})),yield V({approvesInfo:[f],isInternalSwap:!0,onSuccess:Q,onCancel:Z})}catch(e){R(!1)}})),function(e,t,n){return d.apply(this,arguments)}),[O,k,y,N.networkId,N.accountInfo?.account?.id,N.address,U,R,te,V,Y,K,b.value,L,X,H,G,$,P,Q,Z]);return{buildTx:(0,a.useCallback)((0,r.A)((function*(){if(k&&y&&O?.fromAmount&&b&&O?.toAmount&&N.address&&B.address&&N.networkId){R(!0);var e=yield te();try{var t,n;if(e)yield V({isInternalSwap:!0,transfersInfo:e.transferInfo?[e.transferInfo]:void 0,encodedTx:e.encodedTx,swapInfo:e.swapInfo,onSuccess:G,onCancel:Y}),K({swapFromToken:k,swapToToken:y}),x.U.swap.createSwapOrder.swapCreateOrder({swapProvider:O?.info.provider,swapProviderName:O?.info.providerName,swapType:w.If.SWAP,slippage:b.value.toString(),sourceChain:k.networkId,receivedChain:y.networkId,sourceTokenSymbol:k.symbol,receivedTokenSymbol:y.symbol,feeType:null!=(t=O?.fee?.percentageFee?.toString())?t:"0",router:JSON.stringify(null!=(n=O?.routesData)?n:""),isFirstTime:L,createFrom:X===i.EPageType.modal?"modal":"swapPage"}),H((function(e){return _objectSpread(_objectSpread({},e),{},{isFirstTimeSwap:!1})}));else R(!1),$(!0)}catch(e){R(!1),$(!0)}}})),[k,y,O?.fromAmount,O?.toAmount,O?.info.provider,O?.info.providerName,O?.fee?.percentageFee,O?.routesData,b,N.address,N.networkId,B.address,R,te,V,G,Y,K,L,X,H,$]),wrappedTx:ee,approveTx:ne}}var $=n(866063),D=n(100009),N=n(309008),B=n(728046),z=n(117746),F=n(839850),L=["stage","onSelectStage","badgeSize","key"];function SwapPercentageStageBadge_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapPercentageStageBadge_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapPercentageStageBadge_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapPercentageStageBadge_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const components_SwapPercentageStageBadge=function(e){var{stage:t,onSelectStage:n,badgeSize:o,key:r}=e,a=(0,F.A)(e,L);return(0,y.jsx)(i.Badge,SwapPercentageStageBadge_objectSpread(SwapPercentageStageBadge_objectSpread({role:"button",badgeSize:null!=o?o:"sm",onPress:function(){n?.(t)},px:"$1.5",bg:"$bgSubdued",borderRadius:"$2",userSelect:"none",hoverStyle:{bg:"$bgStrongHover"},pressStyle:{bg:"$bgStrongActive"}},a),{},{"data-sentry-element":"Badge","data-sentry-component":"SwapPercentageStageBadge","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapPercentageStageBadge.tsx",children:(0,y.jsxs)(i.Badge.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapPercentageStageBadge.tsx",children:[t,"%"]})}),r)};function SwapActionsState_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapActionsState_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapActionsState_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapActionsState_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PageFooter({onSelectPercentageStage:e,actionComponent:t,pageType:n,md:o}){var r=(0,i.useIsKeyboardShown)(),a=(0,f.A)();return(0,y.jsxs)(i.Page.Footer,{"data-sentry-element":"unknown","data-sentry-component":"PageFooter","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapActionsState.tsx",children:[(0,y.jsx)(i.Page.FooterActions,SwapActionsState_objectSpread(SwapActionsState_objectSpread({},n!==i.EPageType.modal||o?{}:{buttonContainerProps:{flex:1}}),{},{confirmButton:t,"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapActionsState.tsx"})),r?(0,y.jsx)(i.XStack,{alignItems:"center",gap:"$1",justifyContent:"space-around",bg:"$bgSubdued",h:"$10",children:(0,y.jsxs)(y.Fragment,{children:[w.KY.map((function(t){return(0,y.jsx)(components_SwapPercentageStageBadge,{badgeSize:"lg",stage:t,borderRadius:0,onSelectStage:e,flex:1,justifyContent:"center",alignItems:"center",h:"$10"},`swap-percentage-input-stage-${t}`)})),(0,y.jsx)(i.Button,{flex:1,h:"$10",size:"small",justifyContent:"center",borderRadius:0,alignItems:"center",variant:"tertiary",onPress:function(){B.A.dismiss()},children:a.formatMessage({id:S.ETranslations.global_confirm})})]})}):null]})}const H=(0,a.memo)((function({onBuildTx:e,onApprove:t,onWrapped:n,onOpenRecipientAddress:o,onSelectPercentageStage:r}){var s=(0,f.A)(),[c]=(0,p.NE)(),[l]=(0,p.Q8)(),[d]=(0,p.VS)(),[m]=(0,p.Zr)(),g=(0,v.zf)(w.En.FROM),{cleanQuoteInterval:k,quoteAction:b}=(0,p.eR)().current,A=useSwapActionState(),{slippageItem:x}=useSwapSlippagePercentageModeInfo(),h=(0,a.useRef)(x),[I]=(0,p.dF)(),[{swapEnableRecipientAddress:T}]=(0,u.useSettingsAtom)(),j=useSwapBatchTransfer(g.networkId,g.accountInfo?.account?.id),O=(0,v.Gr)(T);h.current!==x&&(h.current=x);var _=(0,a.useCallback)((function(){A.shoutResetApprove?i.Dialog.confirm({onConfirmText:s.formatMessage({id:S.ETranslations.global_continue}),onConfirm:function(){t(d,A.approveUnLimit,!0)},showCancelButton:!0,title:s.formatMessage({id:S.ETranslations.swap_page_provider_approve_usdt_dialog_title}),description:s.formatMessage({id:S.ETranslations.swap_page_provider_approve_usdt_dialog_content}),icon:"ErrorOutline"}):t(d,A.approveUnLimit)}),[d,s,t,A.approveUnLimit,A.shoutResetApprove]),C=(0,i.usePageType)(),{md:R}=(0,i.useMedia)(),E=(0,a.useCallback)((function(){if(A.isRefreshQuote)b(h.current,g?.address,g?.accountInfo?.account?.id);else{if(k(),A.isApprove)return void _();if(A.isWrapped)return void n();e()}}),[k,_,e,n,b,A.isApprove,A.isRefreshQuote,A.isWrapped,g?.accountInfo?.account?.id,g?.address]),P=(0,a.useCallback)((function(){var e,t,n;!A.isRefreshQuote&&m?.quoteShowTip?i.Dialog.confirm({onConfirmText:s.formatMessage({id:S.ETranslations.global_continue}),onConfirm:function(){E()},title:null!=(e=m?.quoteShowTip.title)?e:"",description:null!=(t=m.quoteShowTip.detail)?t:"",icon:null!=(n=m?.quoteShowTip.icon)?n:"ChecklistBoxOutline",renderContent:m.quoteShowTip?.link?(0,y.jsx)(i.Button,{variant:"tertiary",size:"small",alignSelf:"flex-start",icon:"QuestionmarkOutline",onPress:function(){m.quoteShowTip?.link&&(0,z.Dr)(m.quoteShowTip?.link)},children:s.formatMessage({id:S.ETranslations.global_learn_more})}):void 0}):E()}),[m?.quoteShowTip,s,E,A.isRefreshQuote]),M=(0,a.useMemo)((function(){return T&&I&&c&&l&&m?.toTokenInfo.networkId===l.networkId}),[T,m?.toTokenInfo.networkId,I,c,l]),$=(0,a.useMemo)((function(){var e;return A.isApprove&&!j?(0,y.jsxs)(i.XStack,SwapActionsState_objectSpread(SwapActionsState_objectSpread({gap:"$1"},C!==i.EPageType.modal||R?{pb:"$4"}:{}),{},{children:[(0,y.jsx)(i.Popover,{title:s.formatMessage({id:S.ETranslations.global_approve}),placement:"top-start",renderContent:(0,y.jsx)(i.SizableText,{size:"$bodyLg",$gtMd:{size:"$bodyMd",pt:"$5"},pb:"$5",px:"$5",children:s.formatMessage({id:S.ETranslations.swap_page_swap_steps_1_approve_dialog})}),renderTrigger:(0,y.jsxs)(i.XStack,{userSelect:"none",hoverStyle:{opacity:.5},children:[(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",pr:"$1",children:s.formatMessage({id:S.ETranslations.swap_page_swap_steps_1},{tokenSymbol:null!=(e=c?.symbol)?e:""})}),(0,y.jsx)(i.Icon,{size:"$5",color:"$iconSubdued",name:"QuestionmarkOutline"})]})}),(0,y.jsx)(i.Icon,{name:"ArrowRightOutline",size:"$5",color:"$iconSubdued"}),(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",children:s.formatMessage({id:S.ETranslations.swap_page_swap_steps_2})})]})):null}),[c?.symbol,s,R,C,A.isApprove,j]),D=(0,a.useMemo)((function(){return A.isApprove&&!j?null:M?(0,y.jsxs)(i.XStack,SwapActionsState_objectSpread(SwapActionsState_objectSpread({gap:"$1"},C!==i.EPageType.modal||R?{pb:"$4"}:{flex:1}),{},{children:[(0,y.jsx)(i.Stack,{children:(0,y.jsx)(i.Icon,{name:"AddedPeopleOutline",w:"$5",h:"$5"})}),(0,y.jsxs)(i.XStack,{flex:1,flexWrap:"wrap",gap:"$1",children:[(0,y.jsx)(i.SizableText,{flexShrink:0,size:"$bodyMd",color:"$textSubdued",children:s.formatMessage({id:S.ETranslations.swap_page_recipient_send_to})}),(0,y.jsx)(i.SizableText,{flexShrink:0,size:"$bodyMd",cursor:"pointer",textDecorationLine:"underline",onPress:o,children:null!=(e=O?.showAddress)?e:s.formatMessage({id:S.ETranslations.swap_page_recipient_add})}),O?.showAddress?(0,y.jsx)(i.SizableText,{numberOfLines:1,flexShrink:0,size:"$bodyMd",color:"$textSubdued",children:`(${O?.isExtAccount?s.formatMessage({id:S.ETranslations.swap_page_recipient_external_account}):`${null!=(t=O?.accountInfo?.walletName)?t:""}-${null!=(n=O?.accountInfo?.accountName)?n:""}`})`}):null]})]})):null;var e,t,n}),[s,R,o,C,M,A.isApprove,j,O?.accountInfo?.accountName,O?.accountInfo?.walletName,O?.isExtAccount,O?.showAddress]),N=(0,a.useMemo)((function(){return M||A.isApprove&&!j}),[M,A.isApprove,j]),B=(0,a.useMemo)((function(){return(0,y.jsxs)(i.Stack,SwapActionsState_objectSpread(SwapActionsState_objectSpread({flex:1},C!==i.EPageType.modal||R?{}:{flexDirection:"row",justifyContent:N?"space-between":"flex-end",alignItems:"center"}),{},{children:[$,D,(0,y.jsx)(i.Button,{onPress:P,size:C!==i.EPageType.modal||R?"large":"medium",variant:"primary",disabled:A.disabled||A.isLoading,loading:A.isLoading,children:A.label})]}))}),[$,N,R,P,C,D,A.disabled,A.isLoading,A.label]);return(0,y.jsx)(y.Fragment,{children:C===i.EPageType.modal||R?(0,y.jsx)(PageFooter,{onSelectPercentageStage:r,actionComponent:B,pageType:C,md:R}):B})}));var W=n(353203);function SwapAlertContainer_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapAlertContainer_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapAlertContainer_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapAlertContainer_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const V=(0,a.memo)((function({alerts:e}){var t,n=(0,a.useMemo)((function(){return e?.sort((function(e){return e.alertLevel===w.HM.ERROR?-1:e.alertLevel===w.HM.INFO?0:1}))}),[e]),[o]=(0,p.WC)(),s=(0,f.A)(),[c,l]=(0,u.useAccountManualCreatingAtom)(),{createAddress:d}=(0,W.m)(),[m,g]=(0,a.useState)(!1),k=(0,a.useCallback)((t=(0,r.A)((function*(e){if(e?.actionType===w.jb.CREATE_ADDRESS&&e.actionData?.account)try{var t;l((function(t){return SwapAlertContainer_objectSpread(SwapAlertContainer_objectSpread({},t),{},{key:e?.actionData?.key,isLoading:!0})})),yield d({num:null!=(t=e?.actionData?.num)?t:0,account:e?.actionData?.account,selectAfterCreate:!1}),i.Toast.success({title:s.formatMessage({id:S.ETranslations.swap_page_toast_address_generated})}),g(!1)}catch(e){i.Toast.error({title:s.formatMessage({id:S.ETranslations.swap_page_toast_address_generated_fail})}),g(!0)}finally{l((function(t){return SwapAlertContainer_objectSpread(SwapAlertContainer_objectSpread({},t),{},{key:e?.actionData?.key,isLoading:!1})}))}})),function(e){return t.apply(this,arguments)}),[d,s,l]),b=(0,a.useMemo)((function(){return n?.some((function(e){return e.alertLevel===w.HM.ERROR}))}),[n]),v=(0,a.useCallback)((function(e){return e===w.HM.ERROR?"critical":e===w.HM.WARNING?"warning":"default"}),[]),A=(0,a.useCallback)((function(e,t){var n,{alertLevel:r,title:a,icon:s,message:p,action:u}=e;return u?.actionType!==w.jb.CREATE_ADDRESS||u?.actionData?.key!==c.key||c.isLoading||m?(o.from||o.to)&&u?.actionType===w.jb.TOKEN_DETAIL_FETCHING||b&&e.alertLevel!==w.HM.ERROR&&e.action?.actionType!==w.jb.CREATE_ADDRESS?null:(0,y.jsx)(i.Alert,{type:v(r),title:a,icon:s,description:p,action:u?.actionLabel?{primary:null!=(n=u?.actionLabel)?n:"",onPrimaryPress:function(){k(u)},isPrimaryLoading:c.key===u?.actionData?.key&&c.isLoading}:void 0},t):null}),[c.isLoading,c.key,m,v,k,b,o.from,o.to]);return(0,y.jsx)(i.YStack,{gap:"$2.5","data-sentry-element":"YStack","data-sentry-component":"SwapAlertContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapAlertContainer.tsx",children:(b?n.reverse():n).map((function(e,t){return A(e,t)}))})}));var X=n(663522),U=n(896666);function SwapSlippageContentContainer_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapSlippageContentContainer_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapSlippageContentContainer_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapSlippageContentContainer_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=(0,a.memo)((function({swapSlippage:e,onChangeText:t,props:n}){var[o,r]=(0,a.useState)(""),c=(0,a.useRef)(!1),p=(0,a.useCallback)((function(e){(0,D.dM)(e,m.Oz)&&(c.current=/^\d+\.$/.test(e),r(e),t(e))}),[t]),u=(0,a.useMemo)((function(){return new s.g(e.value).decimalPlaces(m.Oz,s.g.ROUND_DOWN).toFixed()}),[e.value]);return(0,a.useEffect)((function(){c.current||r(u)}),[u]),(0,y.jsx)(i.Input,SwapSlippageContentContainer_objectSpread(SwapSlippageContentContainer_objectSpread({size:"medium",containerProps:{flex:1},value:o,autoFocus:e.key===w.k0.CUSTOM,addOns:[{label:"%"}],textAlign:"left",disabled:e.key===w.k0.AUTO,placeholder:u,onChangeText:p},n),{},{"data-sentry-element":"Input","data-sentry-component":"BaseSlippageInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx"}))}));const G=(0,a.memo)((function({swapSlippage:e,onSave:t,autoValue:n}){var[o,r]=(0,a.useState)(e),c=(0,f.A)(),[p,u]=(0,a.useState)({status:w.nC.NORMAL,message:""}),l=(0,a.useCallback)(R()((function(e){var t=new s.g(e);t.isNaN()||t.isNegative()||t.gt(m.qm)?u({status:w.nC.ERROR,message:c.formatMessage({id:S.ETranslations.slippage_tolerance_error_message})}):(r({key:w.k0.CUSTOM,value:t.toNumber()}),t.lte(m.SF)?u({status:w.nC.WRONG,message:c.formatMessage({id:S.ETranslations.slippage_tolerance_warning_message_2},{number:m.SF})}):t.gte(m.Rq)?u({status:w.nC.WRONG,message:c.formatMessage({id:S.ETranslations.slippage_tolerance_warning_message_1},{number:m.Rq})}):u({status:w.nC.NORMAL,message:""}))}),350),[]);return(0,y.jsxs)(i.YStack,{gap:"$4","data-sentry-element":"YStack","data-sentry-component":"SwapsSlippageContentContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx",children:[(0,y.jsx)(i.SegmentControl,{fullWidth:!0,value:o.key,options:m.dI.map((function(e){return{label:c.formatMessage({id:e.key===w.k0.AUTO?S.ETranslations.slippage_tolerance_switch_auto:S.ETranslations.slippage_tolerance_switch_custom}),value:e.key}})),onChange:function(t){r({key:t,value:t===w.k0.AUTO?n:e.value})},"data-sentry-element":"SegmentControl","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx"}),o.key!==w.k0.CUSTOM?(0,y.jsx)(K,{swapSlippage:o,onChangeText:l}):null,o.key===w.k0.CUSTOM?(0,y.jsxs)(i.XStack,{gap:"$2.5",children:[(0,y.jsx)(K,{swapSlippage:o,onChangeText:l}),(0,y.jsx)(i.XStack,{children:m.RW.map((function(e,t){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.Button,{variant:"secondary",size:"medium",borderTopRightRadius:2!==t?0:"$2",borderBottomRightRadius:2!==t?0:"$2",borderTopLeftRadius:0!==t?0:"$2",borderBottomLeftRadius:0!==t?0:"$2",onPress:function(){u({status:w.nC.NORMAL,message:""}),r({key:w.k0.CUSTOM,value:e})},children:`${e}${t===m.RW.length-1?"  ":""}%`},e),t!==m.RW.length-1?(0,y.jsx)(i.Divider,{vertical:!0}):null]})}))})]}):null,o.key===w.k0.AUTO?(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",children:c.formatMessage({id:S.ETranslations.slippage_tolerance_description})}):null,o.key!==w.k0.AUTO&&p.status!==w.nC.NORMAL?(0,y.jsx)(i.SizableText,{size:"$bodySmMedium",color:p.status===w.nC.ERROR?"$textCritical":"$textCaution",children:p.message}):null,(0,y.jsx)(i.Dialog.Footer,{showCancelButton:!1,onConfirmText:c.formatMessage({id:S.ETranslations.slippage_tolerance_button_save}),confirmButtonProps:{variant:"primary",disabled:o.key===w.k0.CUSTOM&&p.status===w.nC.ERROR},onConfirm:function({close:e}){t(o,e)},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageContentContainer.tsx"})]})}));function SwapHeaderRightActionContainer_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapHeaderRightActionContainer_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapHeaderRightActionContainer_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapHeaderRightActionContainer_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SwapSettingsCommonItem=function({value:e,onChange:t,title:n,content:o,badgeContent:r}){return(0,y.jsxs)(i.XStack,{justifyContent:"space-between",alignItems:"center","data-sentry-element":"XStack","data-sentry-component":"SwapSettingsCommonItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsxs)(i.YStack,{flex:1,gap:"$0.5","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsxs)(i.XStack,{alignItems:"center",gap:"$1.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsx)(i.SizableText,{size:"$bodyLgMedium","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:n}),r?(0,y.jsx)(i.Badge,{badgeSize:"sm",badgeType:"success",children:r}):null]}),(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",width:"95%","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:o})]}),(0,y.jsx)(i.Switch,{value:e,onChange:t,"data-sentry-element":"Switch","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx"})]})},SwapSettingsSlippageItem=function({title:e,rightTrigger:t}){return(0,y.jsxs)(i.XStack,{justifyContent:"space-between",alignItems:"center","data-sentry-element":"XStack","data-sentry-component":"SwapSettingsSlippageItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsx)(i.XStack,{"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:(0,y.jsx)(i.SizableText,{userSelect:"none",mr:"$1",size:"$bodyLgMedium",color:"$text","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:e})}),(0,y.jsx)(i.XStack,{gap:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:t})]})},SwapSlippageCustomContent=function({swapSlippage:e}){var t=(0,f.A)(),[,n]=(0,u.useSettingsAtom)(),[o,r]=(0,a.useState)({status:w.nC.NORMAL,message:""}),c=(0,a.useCallback)(R()((function(e){var o=new s.A(e);o.isNaN()||o.isNegative()||o.gt(m.qm)?r({status:w.nC.ERROR,message:t.formatMessage({id:S.ETranslations.slippage_tolerance_error_message})}):(n((function(e){return SwapHeaderRightActionContainer_objectSpread(SwapHeaderRightActionContainer_objectSpread({},e),{},{swapSlippagePercentageMode:w.k0.CUSTOM,swapSlippagePercentageCustomValue:o.toNumber()})})),o.lte(m.SF)?r({status:w.nC.WRONG,message:t.formatMessage({id:S.ETranslations.slippage_tolerance_warning_message_2},{number:m.SF})}):o.gte(m.Rq)?r({status:w.nC.WRONG,message:t.formatMessage({id:S.ETranslations.slippage_tolerance_warning_message_1},{number:m.Rq})}):r({status:w.nC.NORMAL,message:""}))}),350),[]);return(0,y.jsxs)(i.YStack,{gap:"$4","data-sentry-element":"YStack","data-sentry-component":"SwapSlippageCustomContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsxs)(i.XStack,{gap:"$2.5","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsx)(K,{swapSlippage:e,onChangeText:c,"data-sentry-element":"SlippageInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx"}),(0,y.jsx)(i.XStack,{"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:m.RW.map((function(e,t){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(i.Button,{variant:"secondary",size:"medium",borderTopRightRadius:2!==t?0:"$2",borderBottomRightRadius:2!==t?0:"$2",borderTopLeftRadius:0!==t?0:"$2",borderBottomLeftRadius:0!==t?0:"$2",onPress:function(){r({status:w.nC.NORMAL,message:""}),n((function(t){return SwapHeaderRightActionContainer_objectSpread(SwapHeaderRightActionContainer_objectSpread({},t),{},{swapSlippagePercentageCustomValue:e,swapSlippagePercentageMode:w.k0.CUSTOM})}))},children:`${e}${t===m.RW.length-1?"  ":""}%`},e),t!==m.RW.length-1?(0,y.jsx)(i.Divider,{vertical:!0}):null]})}))})]}),e.key!==w.k0.AUTO&&o.status!==w.nC.NORMAL?(0,y.jsx)(i.SizableText,{size:"$bodySmMedium",color:o.status===w.nC.ERROR?"$textCritical":"$textCaution",children:o.message}):null]})},SwapSettingsDialogContent=function(){var e=(0,f.A)(),{slippageItem:t}=useSwapSlippagePercentageModeInfo(),[{swapEnableRecipientAddress:n},o]=(0,u.useSettingsAtom)(),[{swapBatchApproveAndSwap:r},s]=(0,u.useSettingsPersistAtom)(),c=(0,a.useMemo)((function(){return(0,y.jsx)(i.SegmentControl,{value:t.key,options:m.dI.map((function(t){return{label:(0,y.jsxs)(i.XStack,{children:[t.key===w.k0.AUTO?(0,y.jsx)(i.Icon,{name:"Ai3StarOutline",size:"$4.5",color:"$iconSuccess",mr:"$0.5"}):null,(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:e.formatMessage({id:t.key===w.k0.AUTO?S.ETranslations.slippage_tolerance_switch_auto:S.ETranslations.slippage_tolerance_switch_custom})})]}),value:t.key}})),onChange:function(e){var t=e;o((function(e){return SwapHeaderRightActionContainer_objectSpread(SwapHeaderRightActionContainer_objectSpread({},e),{},{swapSlippagePercentageMode:t})}))}})}),[e,o,t.key]);return(0,y.jsxs)(i.YStack,{gap:"$5","data-sentry-element":"YStack","data-sentry-component":"SwapSettingsDialogContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsx)(i.HeightTransition,{"data-sentry-element":"HeightTransition","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:(0,y.jsxs)(i.YStack,{gap:"$5","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[(0,y.jsx)(SwapSettingsSlippageItem,{title:e.formatMessage({id:S.ETranslations.swap_page_provider_slippage_tolerance}),rightTrigger:c,"data-sentry-element":"SwapSettingsSlippageItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx"}),t.key===w.k0.CUSTOM?(0,y.jsx)(SwapSlippageCustomContent,{swapSlippage:t}):null]})}),(0,y.jsx)(i.Divider,{"data-sentry-element":"Divider","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx"}),(0,y.jsx)(SwapSettingsCommonItem,{title:e.formatMessage({id:S.ETranslations.swap_page_settings_simple_mode}),content:e.formatMessage({id:S.ETranslations.swap_page_settings_simple_mode_content}),badgeContent:"Beta",value:r,onChange:function(e){s((function(t){return SwapHeaderRightActionContainer_objectSpread(SwapHeaderRightActionContainer_objectSpread({},t),{},{swapBatchApproveAndSwap:e})}))},"data-sentry-element":"SwapSettingsCommonItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx"}),(0,y.jsx)(SwapSettingsCommonItem,{title:e.formatMessage({id:S.ETranslations.swap_page_settings_recipient_title}),content:e.formatMessage({id:S.ETranslations.swap_page_settings_recipient_content}),value:n,onChange:function(e){o(e?function(t){return SwapHeaderRightActionContainer_objectSpread(SwapHeaderRightActionContainer_objectSpread({},t),{},{swapEnableRecipientAddress:e})}:function(t){return SwapHeaderRightActionContainer_objectSpread(SwapHeaderRightActionContainer_objectSpread({},t),{},{swapEnableRecipientAddress:e,swapToAnotherAccountSwitchOn:e})})},"data-sentry-element":"SwapSettingsCommonItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx"})]})};const components_SwapHeaderRightActionContainer=function({pageType:e}){var t=(0,c.A)(),[{swapHistoryPendingList:n}]=(0,u.useInAppNotificationAtom)(),o=(0,f.A)(),{slippageItem:r}=useSwapSlippagePercentageModeInfo(),s=(0,a.useMemo)((function(){return n.filter((function(e){return e.status===w.lr.PENDING||e.status===w.lr.CANCELING}))}),[n]),p=(0,a.useMemo)((function(){return r.key===w.k0.CUSTOM?(0,y.jsx)(i.SizableText,{color:r.value>m.Rq?"$textCaution":"$text",size:"$bodyMdMedium",children:`${r.value}%`}):null}),[r.key,r.value]),g=(0,a.useCallback)((function(){t.pushModal(l.ry.SwapModal,{screen:d.u.SwapHistoryList})}),[t]),k=(0,a.useCallback)((function(){i.Dialog.show({title:o.formatMessage({id:S.ETranslations.swap_page_settings}),renderContent:(0,y.jsx)(N.o,{storeName:e===i.EPageType.modal?u.EJotaiContextStoreNames.swapModal:u.EJotaiContextStoreNames.swap,children:(0,y.jsx)(SwapSettingsDialogContent,{})}),showConfirmButton:!1,showCancelButton:!0,onCancelText:o.formatMessage({id:S.ETranslations.global_close}),showFooter:!0})}),[o,e]);return(0,y.jsxs)(U.bE,{"data-sentry-element":"HeaderButtonGroup","data-sentry-component":"SwapHeaderRightActionContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderRightActionContainer.tsx",children:[p?(0,y.jsxs)(i.XStack,{onPress:k,borderRadius:"$3",bg:"$bgSubdued",cursor:"pointer",px:"$2",py:"$1",gap:"$1",alignItems:"center",justifyContent:"center",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},children:[p,(0,y.jsx)(i.Icon,{name:"SliderHorOutline",size:"$6",color:"$iconSubdued"})]}):(0,y.jsx)(U.v$,{icon:"SliderHorOutline",onPress:k,iconProps:{size:24},size:"medium"}),s.length>0?(0,y.jsx)(i.Stack,{m:"$0.5",w:"$5",h:"$5",userSelect:"none",borderRadius:"$full",borderColor:"$icon",borderWidth:1.2,alignItems:"center",justifyContent:"center",hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"},focusVisibleStyle:{outlineColor:"$focusRing",outlineWidth:2,outlineStyle:"solid",outlineOffset:0},onPress:g,children:(0,y.jsx)(i.SizableText,{color:"$text",size:"$bodySm",children:`${s.length}`})}):(0,y.jsx)(U.v$,{icon:"ClockTimeHistoryOutline",onPress:g,iconProps:{size:24},size:"medium"})]})};var Q=["children","isSelected","onPress"];function SwapHeaderContainer_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapHeaderContainer_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapHeaderContainer_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapHeaderContainer_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CustomTabItem(e){var{children:t,isSelected:n,onPress:o}=e,r=(0,F.A)(e,Q);return(0,y.jsx)(i.Stack,SwapHeaderContainer_objectSpread(SwapHeaderContainer_objectSpread(SwapHeaderContainer_objectSpread({py:"$1",px:"$2.5",borderRadius:"$2",borderCurve:"continuous",userSelect:"none",hitSlop:{top:4,bottom:4}},n?{bg:"$bgActive"}:{hoverStyle:{bg:"$bgHover"},pressStyle:{bg:"$bgActive"}}),{},{onPress:o},r),{},{"data-sentry-element":"Stack","data-sentry-component":"CustomTabItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx",children:(0,y.jsx)(i.SizableText,SwapHeaderContainer_objectSpread(SwapHeaderContainer_objectSpread({size:"$headingMd",color:"$textSubdued"},n&&{color:"$text"}),{},{"data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx",children:t}))}))}const q=(0,a.memo)((function({pageType:e,defaultSwapType:t}){var n=(0,f.A)(),[o]=(0,p.sK)(),{swapTypeSwitchAction:r}=(0,p.eR)().current,{networkId:s}=(0,v.zf)(w.En.FROM),[c]=(0,p.NE)(),u=(0,a.useRef)(s);return u.current!==s&&(u.current=s),u.current!==c?.networkId&&(u.current=c?.networkId),(0,a.useEffect)((function(){t&&setTimeout((function(){r(t,u.current)}),10)}),[]),(0,y.jsxs)(i.XStack,{justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-component":"SwapHeaderContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx",children:[(0,y.jsxs)(i.XStack,{gap:"$3","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx",children:[(0,y.jsx)(CustomTabItem,{isSelected:o===w.qX.SWAP,onPress:function(){o!==w.qX.SWAP&&r(w.qX.SWAP,s)},"data-sentry-element":"CustomTabItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx",children:n.formatMessage({id:S.ETranslations.swap_page_swap})}),(0,y.jsx)(CustomTabItem,{isSelected:o===w.qX.BRIDGE,onPress:function(){o!==w.qX.BRIDGE&&r(w.qX.BRIDGE,s)},"data-sentry-element":"CustomTabItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx",children:n.formatMessage({id:S.ETranslations.swap_page_bridge})})]}),(0,y.jsx)(components_SwapHeaderRightActionContainer,{pageType:e,"data-sentry-element":"SwapHeaderRightActionContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapHeaderContainer.tsx"})]})}));var Y=n(967560),Z=n(317522);function useSwapApproving_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function useSwapApproving_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useSwapApproving_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useSwapApproving_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=n(318822);var ee=n(88803),te=n(575995);const components_SwapAccountAddressContainer=function({type:e,onClickNetwork:t}){var n=(0,f.A)(),[o]=(0,p.NE)(),[r]=(0,p.sK)(),[s]=(0,p.qv)(),[c]=(0,p.Q8)(),u=(0,a.useMemo)((function(){var n=s.find((function(t){return t.networkId===(e===w.En.FROM?o?.networkId:c?.networkId)}));return(0,y.jsx)(i.AnimatePresence,{children:r===w.qX.BRIDGE&&n?(0,y.jsxs)(i.XStack,{animation:"quick",enterStyle:{opacity:0,x:8},exitStyle:{opacity:0,x:4},gap:"$1",alignItems:"center",cursor:"pointer",onPress:function(){t?.(e)},children:[(0,y.jsx)(i.Image,{w:18,h:18,source:{uri:n.logoURI}}),(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$text",children:n.name})]},"network-component"):null})}),[s,r,t,e,o?.networkId,c?.networkId]);return(0,y.jsxs)(i.XStack,{pb:"$2",alignItems:"center",gap:"$1","data-sentry-element":"XStack","data-sentry-component":"SwapAccountAddressContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapAccountAddressContainer.tsx",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",mr:"$1",userSelect:"none",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapAccountAddressContainer.tsx",children:n.formatMessage({id:e===w.En.FROM?S.ETranslations.swap_page_from:S.ETranslations.swap_page_to})}),u,e===w.En.FROM&&o?(0,y.jsx)(te.LI,{num:0}):null]})};var ne=n(484910);const components_SwapInputActions=function({showPercentageInput:e,showActionBuy:t,onSelectStage:n,fromToken:o,accountInfo:r}){var s,c,p,u,l=(0,f.A)(),{gtSm:d}=(0,i.useMedia)(),m=(0,a.useMemo)((function(){return d?w.w9:w.w9.slice(1)}),[d]);return(0,y.jsx)(i.AnimatePresence,{"data-sentry-element":"AnimatePresence","data-sentry-component":"SwapInputActions","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputActions.tsx",children:(0,y.jsxs)(i.XStack,{animation:"quick",enterStyle:{opacity:0,x:8},exitStyle:{opacity:0,x:4},gap:"$1",alignItems:"center",pb:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputActions.tsx",children:[t?(0,y.jsx)(ne.A,{hiddenIfDisabled:!0,showButtonStyle:!0,height:"$5",px:"$1.5",py:"$0",pt:X.Ay.isNativeIOS?"$1":"$0",bg:"$bgSubdued",size:"small",label:(0,y.jsxs)(i.XStack,{alignItems:"center",gap:"$1",children:[(0,y.jsx)(i.Icon,{name:"CreditCardCvvOutline",size:"$4"}),(0,y.jsx)(i.SizableText,{size:"$bodySmMedium",color:"$textSubdued",children:l.formatMessage({id:S.ETranslations.global_buy})})]}),networkId:null!=(s=o?.networkId)?s:"",accountId:null!=(c=r?.account?.id)?c:"",walletType:null!=(p=r?.wallet?.type)?p:"",tokenAddress:null!=(u=o?.contractAddress)?u:""}):null,e?(0,y.jsx)(y.Fragment,{children:m.map((function(e){return(0,y.jsx)(components_SwapPercentageStageBadge,{stage:e,onSelectStage:n},`swap-percentage-input-stage-${e}`)}))}):null]})})};const oe=(0,a.memo)((function({onAmountChange:e,direction:t,token:n,amountValue:o,selectTokenLoading:r,inputLoading:c,onSelectToken:l,onBalanceMaxPress:d,onSelectPercentageStage:m,balance:f}){(0,$.ZF)({token:n,type:t});var[g]=(0,u.useSettingsPersistAtom)(),[S]=(0,p.LX)(),{address:k,accountInfo:b}=(0,v.zf)(t),[A]=(0,p.I5)(),x=(0,a.useMemo)((function(){var e;if(!n?.price)return"0.0";var t=new s.A(null!=(e=n.price)?e:0),r=new s.A(null!=o?o:0).multipliedBy(t);return r.isNaN()?"0.0":`${r.decimalPlaces(6,s.A.ROUND_DOWN).toFixed()}`}),[o,n?.price]),[h]=(0,p.NE)(),[I]=(0,p.VS)(),[T]=(0,p.kz)(),j=(0,a.useMemo)((function(){var e=S?.states.some((function(e){return e.inputShowError}))&&t===w.En.FROM||!k&&(P.A.isHdWallet({walletId:b?.wallet?.id})||P.A.isHwWallet({walletId:b?.wallet?.id})||P.A.isQrWallet({walletId:b?.wallet?.id})),n=new s.A(null!=T?T:0),o=new s.A(null!=I?I:0);return{accountError:e,hasBalanceError:t===w.En.FROM&&!!h&&!!k&&n.lt(o)}}),[S?.states,t,k,b?.wallet?.id,T,I,h]),O=(0,a.useMemo)((function(){if(A&&t===w.En.TO){var e="$textSubdued";return c&&(e="$textPlaceholder"),A.unit===w.GK.NEGATIVE&&(e="$textCritical"),A.unit===w.GK.POSITIVE&&(e="$textSuccess"),(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:e,children:A.value})}return null}),[t,c,A]),[_,C]=(0,a.useState)(!1),R=(0,a.useMemo)((function(){return t===w.En.FROM&&(_||!!o)}),[t,_,o]),E=(0,a.useMemo)((function(){return t===w.En.FROM&&!!b?.account?.id&&!!h&&j.hasBalanceError}),[t,b?.account?.id,h,j]);return(0,y.jsxs)(i.YStack,{"data-sentry-element":"YStack","data-sentry-component":"SwapInputContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx",children:[(0,y.jsxs)(i.XStack,{justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx",children:[(0,y.jsx)(components_SwapAccountAddressContainer,{type:t,onClickNetwork:l,"data-sentry-element":"SwapAccountAddressContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx"}),(0,y.jsx)(components_SwapInputActions,{fromToken:h,accountInfo:b,showPercentageInput:R,showActionBuy:E,onSelectStage:m,"data-sentry-element":"SwapInputActions","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx"})]}),(0,y.jsx)(ee.J,{onChange:e,value:o,onFocus:function(){C(!0)},onBlur:function(){setTimeout((function(){C(!1)}),200)},hasError:j.accountError||j.hasBalanceError,balanceProps:{value:f,onPress:t!==w.En.FROM||n?.isNative?void 0:d},valueProps:{value:x,color:c&&t===w.En.TO?"$textPlaceholder":void 0,currency:g.currencyInfo.symbol,moreComponent:O},inputProps:{placeholder:"0.0",readOnly:t===w.En.TO,color:t===w.En.TO&&c?"$textPlaceholder":void 0,style:t===w.En.TO?{caretColor:"transparent"}:void 0,inputAccessoryViewID:t===w.En.FROM&&X.Ay.isNativeIOS?w.M$:void 0,autoCorrect:!1,spellCheck:!1,autoComplete:"off"},tokenSelectorTriggerProps:{loading:r,selectedNetworkImageUri:n?.networkLogoURI,selectedTokenImageUri:n?.logoURI,selectedTokenSymbol:n?.symbol,onPress:function(){l(t)}},enableMaxAmount:!(t!==w.En.FROM||n?.isNative),"data-sentry-element":"AmountInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapInputContainer.tsx"})]})}));const re=(0,a.memo)((function({onSelectToken:e,selectLoading:t,onSelectPercentageStage:n}){var o,[r,c]=(0,p.VS)(),d=useSwapQuoteLoading(),m=useSwapQuoteEventFetching(),[g]=(0,p.NE)(),[k]=(0,p.Q8)(),[b]=(0,p.WC)(),{alternationToken:A}=(0,p.eR)().current,[x]=(0,p.Zr)(),[h]=(0,p.kz)(),[T]=(0,p.pW)();return function useSwapQuote(){var e=(0,f.A)(),{quoteAction:t,cleanQuoteInterval:n,quoteEventHandler:o}=(0,p.eR)().current,[r]=(0,p.jH)(),s=(0,v.zf)(w.En.FROM),[c]=(0,p.NE)(),{slippageItem:d}=useSwapSlippagePercentageModeInfo(),[m]=(0,p.Q8)(),[g]=(0,p.DI)(),[S]=(0,p.FR)(),[k,y]=(0,p.VS)(),[b,A]=(0,p.mA)(),[x,h]=(0,p.vS)(),[T]=(0,p.iA)(),{closeQuoteEvent:j}=(0,p.eR)().current,[{swapApprovingTransaction:O}]=(0,u.useInAppNotificationAtom)(),[_]=(0,p.oz)(),C=(0,a.useRef)(_),R=(0,a.useRef)(r),P=(0,a.useRef)(T),$=(0,a.useRef)(d);P.current!==T&&(P.current=T);var N=(0,a.useRef)(b);N.current!==b&&(N.current=b);var B=(0,a.useRef)(x);B.current!==x&&(B.current=x),R.current!==r&&(R.current=r),C.current!==_&&(C.current=_),$.current!==d&&($.current=d);var z=(0,E.E)(),F=(0,a.useRef)(z);F.current!==z&&(F.current=z);var L=(0,a.useRef)();L.current!==s&&(L.current=s);var H=(0,a.useRef)();H.current!==O&&(H.current=O);var W=(0,M.d)(k,500,{leading:!0}),V=(0,a.useCallback)((function(){var e=(0,D.mD)(W,c?.decimals);e&&e!==W&&y(e)}),[c?.decimals,W,y]);(0,a.useEffect)((function(){F.current&&(k||t($.current,L.current?.address,L.current?.accountInfo?.account?.id))}),[k,t]),(0,a.useEffect)((function(){g.status||S||g.status||"save"!==g.flag||t($.current,L.current?.address,L.current?.accountInfo?.account?.id)}),[t,n,S,g]),(0,a.useEffect)((function(){F.current&&O&&O.txId&&O.status===w.MG.SUCCESS&&!O.resetApproveValue&&t($.current,L.current?.address,L.current?.accountInfo?.account?.id,O.blockNumber)}),[e,n,t,O]),(0,a.useEffect)((function(){if(F.current&&!(c?.networkId!==L.current?.networkId||(0,I.BQ)({token1:{networkId:c?.networkId,contractAddress:c?.contractAddress},token2:{networkId:m?.networkId,contractAddress:m?.contractAddress}})||R.current?.actionLock&&R.current?.fromTokenAmount===W&&(0,I.BQ)({token1:R.current?.fromToken,token2:{networkId:c?.networkId,contractAddress:c?.contractAddress}})&&(0,I.BQ)({token1:R.current?.toToken,token2:{networkId:m?.networkId,contractAddress:m?.contractAddress}})&&R.current.accountId===L.current?.accountInfo?.account?.id&&R.current?.address===s.address))return V(),t($.current,L.current?.address,L.current?.accountInfo?.account?.id),function(){n()}}),[n,t,s.address,s.networkId,c?.networkId,c?.contractAddress,m?.networkId,m?.contractAddress,V,W]),(0,a.useEffect)((function(){if(!F.current&&c?.networkId===L.current?.networkId&&!(0,I.BQ)({token1:{networkId:c?.networkId,contractAddress:c?.contractAddress},token2:{networkId:m?.networkId,contractAddress:m?.contractAddress}}))return V(),t($.current,L.current?.address,L.current?.accountInfo?.account?.id),function(){n()}}),[s.accountInfo?.deriveType]);var X=(0,i.usePageType)();(0,Z.A)(l.V4.Swap,(function(e,t){X!==i.EPageType.modal&&(e?(J.iL.off(J.Tu.SwapQuoteEvent,o),J.iL.on(J.Tu.SwapQuoteEvent,o)):t?((P.current||B.current.count>0&&N.current.length<B.current.count)&&(j(),h({count:0}),A([]),y("")),J.iL.off(J.Tu.SwapQuoteEvent,o)):(J.iL.off(J.Tu.SwapQuoteEvent,o),J.iL.on(J.Tu.SwapQuoteEvent,o)))})),(0,a.useEffect)((function(){X===i.EPageType.modal&&z&&(J.iL.off(J.Tu.SwapQuoteEvent,o),J.iL.on(J.Tu.SwapQuoteEvent,o))}),[z,X,o])}(),(0,v.jA)(),function useSwapApproving(){var e=(0,f.A)(),{approvingStateAction:t,cleanApprovingInterval:n}=(0,p.eR)().current,[{swapApprovingTransaction:o},r]=(0,u.useInAppNotificationAtom)(),s=(0,a.useRef)();s.current!==o&&(s.current=o);var{approveTx:c}=useSwapBuildTx(),d=(0,a.useRef)(c);d.current!==c&&(d.current=c);var m=(0,E.E)(),g=(0,a.useRef)(m);g.current!==m&&(g.current=m),(0,a.useEffect)((function(){if(g.current)return o?.txId&&o?.status===w.MG.PENDING?t():n(),o?.status===w.MG.FAILED?i.Toast.error({title:e.formatMessage({id:S.ETranslations.swap_page_toast_approve_failed})}):o?.status===w.MG.CANCEL?i.Toast.error({title:e.formatMessage({id:S.ETranslations.swap_page_toast_approve_canceled})}):o?.status===w.MG.SUCCESS&&(o?.resetApproveValue&&Number(o?.resetApproveValue)>0?d.current?.(o?.resetApproveValue,!!o?.resetApproveIsMax):i.Toast.success({title:e.formatMessage({id:S.ETranslations.swap_page_toast_approve_successful})})),o?.status!==w.MG.FAILED&&o?.status!==w.MG.CANCEL||r((function(e){return useSwapApproving_objectSpread(useSwapApproving_objectSpread({},e),{},{swapApprovingTransaction:void 0})})),function(){n()}}),[t,n,e,r,o?.resetApproveIsMax,o?.resetApproveValue,o?.status,o?.txId]);var k=(0,i.usePageType)();(0,Z.A)(l.V4.Swap,(function(e,o){k!==i.EPageType.modal&&(e&&!o&&s.current?.txId&&s.current?.status===w.MG.PENDING?t():n())})),(0,a.useEffect)((function(){k===i.EPageType.modal&&(m&&s.current?.txId&&s.current?.status===w.MG.PENDING?t():n())}),[t,n,m,k])}(),(0,y.jsxs)(i.YStack,{"data-sentry-element":"YStack","data-sentry-component":"SwapQuoteInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx",children:[(0,y.jsx)(oe,{token:g,direction:w.En.FROM,selectTokenLoading:t,onAmountChange:function(e){(0,D.dM)(e,g?.decimals)&&c(e)},onSelectPercentageStage:n,amountValue:r,onBalanceMaxPress:function(){var e=h;if(g?.reservationValue){var t=new s.A(null!=h?h:0),n=new s.A(g.reservationValue);t.minus(n).isGreaterThan(0)&&(e=t.minus(n).toFixed())}c(e)},onSelectToken:e,balance:h,"data-sentry-element":"SwapInputContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx"}),(0,y.jsxs)(i.YStack,{pt:"$3.5","data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx",children:[(0,y.jsx)(i.IconButton,{alignSelf:"flex-end",icon:"SwitchVerOutline",size:"small",zIndex:2,disabled:b.from||b.to,onPress:A,mb:"$-3","data-sentry-element":"IconButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx"}),(0,y.jsx)(oe,{token:k,inputLoading:d||m,selectTokenLoading:t,direction:w.En.TO,amountValue:null!=(o=x?.toAmount)?o:"",onSelectToken:e,balance:T,"data-sentry-element":"SwapInputContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapQuoteInput.tsx"})]}),X.Ay.isNativeIOS?(0,y.jsx)(Y.A,{nativeID:w.M$,children:(0,y.jsx)(i.SizableText,{h:"$0"})}):null]})}));var ae=(0,a.memo)((function({title:e,questionMarkContent:t}){var n=(0,a.useMemo)((function(){return(0,y.jsx)(i.Popover,{title:e,renderTrigger:(0,y.jsx)(i.IconButton,{variant:"tertiary",size:"small",icon:"InfoCircleOutline"}),renderContent:(0,y.jsx)(i.Stack,{children:t})})}),[t,e]);return(0,y.jsxs)(i.XStack,{"data-sentry-element":"XStack","data-sentry-component":"SwapCommonInfoItemTitleContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx",children:[(0,y.jsx)(i.SizableText,{userSelect:"none",mr:"$1",size:"$bodyMd",color:"$textSubdued","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx",children:e}),t?n:null]})}));const se=(0,a.memo)((function({title:e,value:t,onPress:n,isLoading:o,valueComponent:r,questionMarkContent:s}){var c=(0,a.useMemo)((function(){return(0,y.jsxs)(i.XStack,{userSelect:"none",hoverStyle:{opacity:.5},alignItems:"center",onPress:n,cursor:n?"pointer":void 0,children:[r||(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:t}),n?(0,y.jsx)(i.Icon,{name:"ChevronRightSmallOutline",mr:"$-1",size:"$5",color:"$iconSubdued"}):null]})}),[n,t,r]);return(0,y.jsxs)(i.XStack,{justifyContent:"space-between",alignItems:"center","data-sentry-element":"XStack","data-sentry-component":"SwapCommonInfoItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx",children:[(0,y.jsx)(ae,{title:e,questionMarkContent:s,"data-sentry-element":"SwapCommonInfoItemTitleContentMemo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx"}),(0,y.jsx)(i.XStack,{gap:"$2","data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapCommonInfoItem.tsx",children:o?(0,y.jsx)(i.Stack,{py:"$1",children:(0,y.jsx)(i.Skeleton,{h:"$3",w:"$24"})}):c})]})}));var ie=n(74422),ce=(0,a.memo)((function({onekeyFee:e}){var t=(0,f.A)();return(0,y.jsxs)(i.XStack,{"data-sentry-element":"XStack","data-sentry-component":"SwapProviderInfoItemTitleContent","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",userSelect:"none",mr:"$1","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx",children:t.formatMessage({id:S.ETranslations.swap_page_provider_provider})}),(0,y.jsx)(ie.A,{onekeyFee:e,"data-sentry-element":"SwapServiceFeeOverview","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx"})]})}));const pe=(0,a.memo)((function({fromToken:e,isBest:t,onekeyFee:n,toToken:o,providerIcon:r,providerName:a,showLock:s,onPress:c,isLoading:p}){var u=(0,f.A)();return(0,y.jsxs)(i.XStack,{justifyContent:"space-between",alignItems:"center","data-sentry-element":"XStack","data-sentry-component":"SwapProviderInfoItem","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx",children:[(0,y.jsx)(ce,{onekeyFee:n,"data-sentry-element":"SwapProviderInfoItemTitleContentMemo","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapProviderInfoItem.tsx"}),p?(0,y.jsx)(i.Stack,{py:"$1",children:(0,y.jsx)(i.Skeleton,{h:"$3",w:"$24"})}):(0,y.jsxs)(i.XStack,{alignItems:"center",userSelect:"none",hoverStyle:{opacity:.5},onPress:c,cursor:c?"pointer":void 0,children:[r&&e&&o?(0,y.jsxs)(y.Fragment,{children:[t?(0,y.jsx)(i.Badge,{badgeSize:"sm",badgeType:"success",marginRight:"$2",children:u.formatMessage({id:S.ETranslations.global_best})}):null,(0,y.jsx)(i.Image,{source:{uri:r},w:"$5",h:"$5",borderRadius:"$1"}),(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",ml:"$1",children:null!=a?a:""})]}):null,s?(0,y.jsx)(i.Icon,{name:"LockOutline",color:"$iconSubdued",ml:"$1",size:"$5"}):null,c?(0,y.jsx)(i.Icon,{name:"ChevronRightSmallOutline",size:"$5",color:"$iconSubdued",mr:"$-1"}):null]})]})}));var ue=n(546591),le=n(825903);const de=(0,a.memo)((function({refreshAction:e}){var t=(0,a.useRef)(new ue.A.Value(0)).current,o=(0,a.useRef)(new ue.A.Value(0)).current,r=(0,a.useRef)(),s=(0,le.YE)(),c=(0,a.useRef)(null),p=(0,E.E)(),{isRefreshQuote:u,isLoading:l}=useSwapActionState(),d=(0,a.useRef)(u);d.current!==u&&(d.current=u);var w=(0,a.useRef)(null),f=(0,a.useRef)(p);f.current!==p&&(f.current=p);var g=(0,a.useRef)(t);g.current!==t&&(g.current=t);var S=(0,a.useRef)(e);S.current!==e&&(S.current=e);var k=(0,a.useCallback)(R()((function(e){f.current&&(g.current.setValue(0),ue.A.timing(g.current,{toValue:-1,duration:500,useNativeDriver:!0}).start((function(t){t&&S.current(e)})))}),10),[]);return(0,a.useEffect)((function(){if(!w.current)return w.current=o.addListener((function({value:e}){e===m.UN&&k()})),function(){w.current&&(o.removeListener(w.current),w.current=null)}}),[k,o]),(0,a.useEffect)((function(){d.current?(c.current?.reset(),r.current?.reset()):(r.current=ue.A.timing(o,{toValue:m.UN,duration:m.UN,useNativeDriver:!0}),r.current?.reset(),r.current?.start())}),[o,u]),(0,a.useEffect)((function(){f.current&&l&&(c.current?.reset(),r.current?.reset())}),[l]),(0,a.useEffect)((function(){p&&(Number(o._value)===m.UN&&k())}),[p,o,k]),(0,y.jsx)(i.XStack,{cursor:"pointer",onPress:function(e){e.stopPropagation(),k(!0)},"data-sentry-element":"XStack","data-sentry-component":"SwapRefreshButton","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRefreshButton.tsx",children:(0,y.jsx)(ue.A.View,{style:{transform:[{rotate:t.interpolate({inputRange:[0,1],outputRange:["0deg","360deg"]})}]},"data-sentry-element":"unknown","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRefreshButton.tsx",children:(0,y.jsx)(i.LottieView,{ref:c,source:n("light"===s?521260:445564),width:20,height:20,autoPlay:!0,"data-sentry-element":"LottieView","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapRefreshButton.tsx"})})})}));const components_SwapQuoteResultRate=function({rate:e,isBest:t,fromToken:n,toToken:o,providerIcon:r,providerName:c,isLoading:p,onOpenResult:u,openResult:l,refreshAction:d}){var m=(0,f.A)(),[w,g]=(0,a.useState)(!1),k=(0,a.useMemo)((function(){return!new s.g(null!=e?e:0).isZero()}),[e]),b=(0,a.useMemo)((function(){if(!u||!n||!o)return(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:m.formatMessage({id:S.ETranslations.swap_page_provider_provider_insufficient_liquidity})});if(!k)return(0,y.jsx)(i.SizableText,{ml:"$1",size:"$bodyMdMedium",children:m.formatMessage({id:S.ETranslations.swap_page_provider_rate_unavailable})});var t=new s.g(null!=e?e:0);return(0,y.jsx)(i.XStack,{gap:"$2",alignItems:"center",hoverStyle:{opacity:.5},onPress:function(e){e.stopPropagation(),g(!w)},cursor:"pointer",children:(0,y.jsxs)(i.SizableText,{size:"$bodyMdMedium",maxWidth:240,$gtMd:{maxWidth:240},textAlign:"right",children:[`1 ${w?o.symbol.toUpperCase():n.symbol.toUpperCase()} = `,(0,y.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:"balance",children:w?new s.g(1).div(t).toFixed():t.toFixed()}),(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:` ${w?n.symbol:o.symbol}`})]})})}),[n,m,w,u,e,k,o]);return(0,y.jsxs)(i.XStack,{alignItems:"center",gap:"$5","data-sentry-element":"XStack","data-sentry-component":"SwapQuoteResultRate","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapQuoteResultRate.tsx",children:[p?(0,y.jsx)(i.Stack,{py:"$0.5",children:(0,y.jsx)(i.Skeleton,{h:"$4",w:"$32"})}):(0,y.jsxs)(i.XStack,{gap:"$1",alignItems:"center",children:[(0,y.jsx)(de,{refreshAction:d}),b]}),(0,y.jsxs)(i.XStack,{alignItems:"center",userSelect:"none",gap:"$1",flex:1,"data-sentry-element":"XStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapQuoteResultRate.tsx",children:[r&&n&&o&&u?(0,y.jsxs)(i.XStack,{flex:1,justifyContent:"flex-end",animation:"quick",y:l?"$1":"$0",opacity:l?0:1,children:[t?(0,y.jsx)(i.Badge,{badgeSize:"sm",marginRight:"$2",badgeType:"success",children:m.formatMessage({id:S.ETranslations.global_best})}):null,(0,y.jsx)(i.Image,{source:{uri:r},w:"$5",h:"$5",borderRadius:"$1"}),(0,y.jsx)(i.SizableText,{numberOfLines:1,size:"$bodyMdMedium",ml:"$1",flexShrink:1,children:null!=c?c:""})]}):null,!p&&u?(0,y.jsx)(i.Stack,{animation:"quick",rotate:l?"180deg":"0deg",children:(0,y.jsx)(i.Icon,{name:"ChevronDownSmallOutline",color:l?"$iconActive":"$iconSubdued",size:"$5"})}):null]})]})};function useSwapSlippageActions_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function useSwapSlippageActions_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?useSwapSlippageActions_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):useSwapSlippageActions_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const me=(0,a.memo)((function({onSelectAllowanceValue:e,currentSelectAllowanceValue:t,selectItems:n,onSelectOpenChange:o,isLoading:r}){var s=(0,f.A)(),c=(0,a.useCallback)((function(){return r?(0,y.jsx)(i.Stack,{py:"$1",children:(0,y.jsx)(i.Skeleton,{h:"$3",w:"$24"})}):(0,y.jsxs)(i.XStack,{userSelect:"none",hoverStyle:{opacity:.5},children:[(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:t?.label}),(0,y.jsx)(i.Icon,{size:"$5",color:"$iconSubdued",name:"ChevronRightSmallOutline",mr:"$-1"})]})}),[t?.label,r]);return(0,y.jsxs)(i.XStack,{justifyContent:"space-between","data-sentry-element":"XStack","data-sentry-component":"SwapApproveAllowanceSelect","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx",children:[(0,y.jsx)(i.SizableText,{size:"$bodyMd",color:"$textSubdued",userSelect:"none","data-sentry-element":"SizableText","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx",children:s.formatMessage({id:S.ETranslations.swap_page_provider_approve_amount})}),(0,y.jsx)(i.Select,{placement:"bottom-end",items:n,value:t?.value,onChange:function(t){e(t)},onOpenChange:o,title:s.formatMessage({id:S.ETranslations.swap_page_provider_approve_amount}),renderTrigger:c,"data-sentry-element":"Select","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/components/SwapApproveAllowanceSelect.tsx"})]})}));const we=(0,a.memo)((function({allowanceResult:e,fromTokenSymbol:t,isLoading:n}){var o=(0,f.A)(),[r,s]=(0,p.rE)(),[,c]=(0,p.FR)(),u=(0,a.useMemo)((function(){return[{label:(0,y.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:"balance",formatterOptions:{tokenSymbol:t},children:e.amount}),value:w.KF.PRECISION},{label:o.formatMessage({id:S.ETranslations.swap_page_provider_approve_amount_un_limit}),value:w.KF.UN_LIMIT}]}),[e.amount,t,o]),l=(0,a.useCallback)((function(e){s(e===w.KF.UN_LIMIT)}),[s]);return(0,y.jsx)(me,{currentSelectAllowanceValue:u[r?1:0],onSelectAllowanceValue:l,selectItems:u,isLoading:n,onSelectOpenChange:c,"data-sentry-element":"SwapApproveAllowanceSelect","data-sentry-component":"SwapApproveAllowanceSelectContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapApproveAllowanceSelectContainer.tsx"})}));const fe=(0,a.memo)((function({isLoading:e,onPress:t,slippageItem:n}){var o=(0,f.A)(),r=(0,a.useMemo)((function(){return new s.A(n.value).decimalPlaces(m.Oz,s.A.ROUND_DOWN).toFixed()}),[n.value]),c=(0,a.useMemo)((function(){return o.formatMessage({id:n.key===w.k0.AUTO?S.ETranslations.swap_page_provider_slippage_auto:S.ETranslations.swap_page_provider_custom},{number:r})}),[r,o,n.key]),p=(0,a.useMemo)((function(){return(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",color:n.value>m.Rq?"$textCaution":"$text",children:c})}),[c,n.value]);return(0,y.jsx)(se,{title:o.formatMessage({id:S.ETranslations.swap_page_provider_slippage_tolerance}),isLoading:e,onPress:t,questionMarkContent:(0,y.jsx)(i.SizableText,{p:"$5",$gtMd:{size:"$bodyMd"},children:o.formatMessage({id:S.ETranslations.slippage_tolerance_popover})}),valueComponent:p,"data-sentry-element":"SwapCommonInfoItem","data-sentry-component":"SwapSlippageTriggerContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapSlippageTriggerContainer.tsx"})}));const ge=(0,a.memo)((function({onOpenProviderList:e,quoteResult:t,refreshAction:n,onOpenRecipient:o}){var r,c,l,d,[m,g]=(0,a.useState)(!1),[k]=(0,p.NE)(),[b]=(0,p.Q8)(),[A]=(0,p.VS)(),[x]=(0,u.useSettingsPersistAtom)(),[h]=(0,p.KO)(),[I]=(0,p.dF)(),[{swapEnableRecipientAddress:T}]=(0,u.useSettingsAtom)(),j=useSwapQuoteLoading(),O=(0,f.A)(),{onSlippageHandleClick:_,slippageItem:C}=function useSwapSlippageActions(){var e=(0,f.A)(),{slippageItem:t,autoValue:n}=useSwapSlippagePercentageModeInfo(),[,o]=(0,p.DI)(),[,r]=(0,u.useSettingsAtom)(),s=(0,a.useRef)(null),c=(0,a.useCallback)((function(e,t){r((function(t){return useSwapSlippageActions_objectSpread(useSwapSlippageActions_objectSpread({},t),{},{swapSlippagePercentageMode:e.key})})),e.key===w.k0.CUSTOM&&r((function(t){return useSwapSlippageActions_objectSpread(useSwapSlippageActions_objectSpread({},t),{},{swapSlippagePercentageMode:e.key,swapSlippagePercentageCustomValue:e.value})})),t({flag:"save"})}),[r]);return{onSlippageHandleClick:(0,a.useCallback)((function(){s.current=i.Dialog.show({title:e.formatMessage({id:S.ETranslations.slippage_tolerance_title}),renderContent:(0,y.jsx)(G,{swapSlippage:t,autoValue:n,onSave:c}),onOpen:function(){o({status:!0})},onClose:function(e){o({status:!1,flag:e?.flag})}})}),[n,e,o,t,c]),slippageOnSave:c,slippageItem:t}}(),R=(0,v.Gr)(T),E=(0,a.useCallback)((function(e,t,n){var o,r=s.A.maximum(e,t).dividedBy(100).toNumber();return(0,y.jsx)(se,{title:O.formatMessage({id:S.ETranslations.swap_page_buy_sell_tax},{token:`${null!=(o=n?.symbol)?o:""}`}),isLoading:j,valueComponent:(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:`${r}%`})})}),[O,j]),P=(0,a.useCallback)((function(e,t,n){var o=e?.buyToken,r=e?.sellToken,a=null,i=null,c=new s.A(o?.buyTaxBps?o?.buyTaxBps:0),p=new s.A(o?.sellTaxBps?o?.sellTaxBps:0),u=new s.A(r?.buyTaxBps?r?.buyTaxBps:0),l=new s.A(r?.sellTaxBps?r?.sellTaxBps:0);return(c.gt(0)||p.gt(0))&&(a=E(c,p,n)),(u.gt(0)||l.gt(0))&&(i=E(u,l,t)),(0,y.jsxs)(y.Fragment,{children:[i,a]})}),[E]),$=(0,M.d)(A,500,{leading:!0});return!k||!b||new s.A(A).isNaN()||new s.A(A).isZero()?null:k&&b&&!new s.A($).isZero()&&!new s.A($).isNaN()?(0,y.jsx)(i.Accordion,{type:"single",collapsible:!0,children:(0,y.jsxs)(i.Accordion.Item,{value:"1",children:[(0,y.jsx)(i.Accordion.Trigger,{unstyled:!0,borderWidth:0,bg:"$transparent",p:"$0",cursor:"pointer",disabled:!t?.info.provider||j,children:function({open:e}){var o,r;return(0,y.jsx)(components_SwapQuoteResultRate,{rate:t?.instantRate,fromToken:k,toToken:b,isBest:t?.isBest,providerIcon:null!=(o=t?.info.providerLogo)?o:"",providerName:null!=(r=t?.info.providerName)?r:"",isLoading:j,refreshAction:n,onOpenResult:t?.info.provider&&!j?function(){return g(!m)}:void 0,openResult:e})}}),(0,y.jsx)(i.Accordion.HeightAnimator,{animation:"quick",children:(0,y.jsxs)(i.Accordion.Content,{gap:"$4",p:"$0",animation:"quick",enterStyle:{opacity:0},exitStyle:{opacity:0},children:[(0,y.jsx)(i.Divider,{mt:"$4"}),I&&T?(0,y.jsx)(se,{title:O.formatMessage({id:S.ETranslations.global_recipient}),isLoading:j,onPress:o,valueComponent:(0,y.jsxs)(i.XStack,{gap:"$1",children:[R?.showAddress?null:(0,y.jsx)(i.Icon,{name:"AddPeopleOutline",w:18,h:18}),(0,y.jsx)(i.SizableText,{size:"$bodyMdMedium",children:null!=(r=R?.showAddress)?r:O.formatMessage({id:S.ETranslations.swap_page_recipient_edit})})]})}):null,t?.allowanceResult?(0,y.jsx)(we,{allowanceResult:t?.allowanceResult,fromTokenSymbol:null!=(c=k?.symbol)?c:"",isLoading:j}):null,t?.info.provider?(0,y.jsx)(pe,{providerIcon:null!=(l=t?.info.providerLogo)?l:"",providerName:null!=(d=t?.info.providerName)?d:"",isLoading:j,isBest:t.isBest,fromToken:k,onekeyFee:t?.fee?.percentageFee,toToken:b,showLock:!!t?.allowanceResult,onPress:t?.info.provider?function(){e?.()}:void 0}):null,!t?.toAmount||t?.unSupportSlippage||t.isWrapped?null:(0,y.jsx)(fe,{isLoading:j,onPress:_,slippageItem:C}),t?.fee?.estimatedFeeFiatValue?(0,y.jsx)(se,{title:O.formatMessage({id:S.ETranslations.swap_page_provider_est_network_fee}),isLoading:j,valueComponent:(0,y.jsx)(i.NumberSizeableText,{size:"$bodyMdMedium",formatter:"value",formatterOptions:{currency:x.currencyInfo.symbol},children:t.fee?.estimatedFeeFiatValue})}):null,h?.swapTokenMetadata?P(h?.swapTokenMetadata,k,b):null]})})]})}):void 0}));function SwapMainLand_ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function SwapMainLand_objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?SwapMainLand_ownKeys(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SwapMainLand_ownKeys(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var SwapMainLoad=function({swapInitParams:e,pageType:t}){var n,{buildTx:o,approveTx:f,wrappedTx:g}=useSwapBuildTx(),{fetchLoading:S}=(0,$.FI)(e),k=(0,c.A)(),[A]=(0,p.Zr)(),[x]=(0,p.LX)(),h=(0,v.zf)(w.En.TO),I=(0,v.zf)(w.En.FROM),T=useSwapQuoteLoading(),j=useSwapQuoteEventFetching(),[{swapRecentTokenPairs:O}]=(0,u.useInAppNotificationAtom)(),[_,C]=(0,p.VS)(),[,R]=(0,p.SR)(),{selectFromToken:E,selectToToken:P,quoteAction:M}=(0,p.eR)().current,[N]=(0,p.kz)(),[B]=(0,p.NE)(),{slippageItem:z}=useSwapSlippagePercentageModeInfo(),F=(0,a.useRef)(z);F.current!==z&&(F.current=z);var L,W=(0,a.useCallback)((function(e){k.pushModal(l.ry.SwapModal,{screen:d.u.SwapTokenSelect,params:{type:e,storeName:t===i.EPageType.modal?u.EJotaiContextStoreNames.swapModal:u.EJotaiContextStoreNames.swap}})}),[k,t]),X=(0,a.useCallback)((function({fromToken:e,toToken:t}){E(e,!0),P(t)}),[E,P]),U=(0,a.useCallback)((function(){k.pushModal(l.ry.SwapModal,{screen:d.u.SwapProviderSelect,params:{storeName:t===i.EPageType.modal?u.EJotaiContextStoreNames.swapModal:u.EJotaiContextStoreNames.swap}})}),[k,t]),K=(0,a.useCallback)((function(){k.pushModal(l.ry.SwapModal,{screen:d.u.SwapToAnotherAddress,params:{address:h.address,storeName:t===i.EPageType.modal?u.EJotaiContextStoreNames.swapModal:u.EJotaiContextStoreNames.swap}})}),[k,t,h.address]),G=(0,a.useCallback)((0,r.A)((function*(){yield o()})),[o]),Q=(0,a.useCallback)((L=(0,r.A)((function*(e,t,n){n?yield f(m.XU,t,e):yield f(e,t)})),function(e,t,n){return L.apply(this,arguments)}),[f]),Y=(0,a.useCallback)((function(e){e?M(F.current,I?.address,I?.accountInfo?.account?.id):(R((function(e){return e+1})),M(F.current,I?.address,I?.accountInfo?.account?.id,void 0,!0))}),[M,I?.accountInfo?.account?.id,I?.address,R]),Z=(0,a.useCallback)((0,r.A)((function*(){yield g()})),[g]),J=(0,a.useCallback)((function(e){var t,n=new s.A(null!=N?N:0).multipliedBy(e/100).decimalPlaces(null!=(t=B?.decimals)?t:6,s.A.ROUND_DOWN);!n.isNaN()&&(0,D.dM)(n.toFixed(),B?.decimals)&&C(n.toFixed())}),[N,B?.decimals,C]);return(0,y.jsx)(i.ScrollView,{"data-sentry-element":"ScrollView","data-sentry-component":"SwapMainLoad","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx",children:(0,y.jsx)(i.YStack,{testID:"swap-content-container",flex:1,marginHorizontal:"auto",width:"100%",maxWidth:t===i.EPageType.modal?"100%":500,"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx",children:(0,y.jsxs)(i.YStack,{pt:"$2.5",px:"$5",pb:"$5",gap:"$5",flex:1,$gtMd:{flex:"unset",pt:t===i.EPageType.modal?"$2.5":"$5"},"data-sentry-element":"YStack","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx",children:[(0,y.jsx)(q,{pageType:t,defaultSwapType:e?.swapTabSwitchType,"data-sentry-element":"SwapHeaderContainer","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"}),(0,y.jsx)(re,{onSelectToken:W,selectLoading:S,onSelectPercentageStage:J,"data-sentry-element":"SwapQuoteInput","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"}),(0,y.jsx)(H,{onBuildTx:G,onApprove:Q,onWrapped:Z,onOpenRecipientAddress:K,onSelectPercentageStage:J,"data-sentry-element":"SwapActionsState","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"}),(0,y.jsx)(ge,{refreshAction:Y,onOpenProviderList:U,quoteResult:A,onOpenRecipient:K,"data-sentry-element":"SwapQuoteResult","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"}),x.states.length>0&&!T&&!j&&x.quoteId===(null!=(n=A?.quoteId)?n:"")?(0,y.jsx)(V,{alerts:x.states}):null,(0,y.jsx)(b,{onSelectTokenPairs:X,tokenPairs:O,fromTokenAmount:_,"data-sentry-element":"SwapRecentTokenPairsGroup","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"})]})})})};const SwapMainLand=function(e){return(0,y.jsx)(N.o,{storeName:e?.pageType===i.EPageType.modal?u.EJotaiContextStoreNames.swapModal:u.EJotaiContextStoreNames.swap,"data-sentry-element":"SwapProviderMirror","data-sentry-component":"SwapMainLandWithPageType","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx",children:(0,y.jsx)(SwapMainLoad,SwapMainLand_objectSpread(SwapMainLand_objectSpread({},e),{},{pageType:e?.pageType,"data-sentry-element":"SwapMainLoad","data-sentry-source-file":"/home/runner/work/app-monorepo/app-monorepo/packages/kit/src/views/Swap/pages/components/SwapMainLand.tsx"}))})}},445564:e=>{e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"合成 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"修剪路径 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"“circle-reverse-plus”轮廓 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.83137254902,0.83137254902,0.866666666667,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"“circle-reverse-plus”轮廓 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"ef":[{"ty":26,"nm":"径向擦除","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"过渡完成","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"起始角度","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"擦除中心","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"擦除","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"羽化","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.121568627451,0.121568627451,0.219607843137,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')},521260:e=>{e.exports=JSON.parse('{"v":"5.9.6","fr":25,"ip":0,"op":375,"w":200,"h":200,"nm":"合成 3","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":2,"ty":4,"nm":"形状图层 3","td":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[99.875,100,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[659,659,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"d":2,"ty":"el","s":{"a":0,"k":[20,20],"ix":2},"p":{"a":0,"k":[0,0],"ix":3},"nm":"椭圆路径 1","mn":"ADBE Vector Shape - Ellipse","hd":false},{"ty":"tm","s":{"a":0,"k":0,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":0,"s":[100]},{"t":375,"s":[0]}],"ix":2},"o":{"a":0,"k":280,"ix":3},"m":1,"ix":2,"nm":"修剪路径 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":14,"ix":5},"lc":1,"lj":1,"ml":4,"bm":0,"nm":"描边 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":0,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"椭圆 1","np":4,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":3,"ty":4,"nm":"“circle-reverse-plus”轮廓 2","tt":1,"sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.282352941176,0.282352941176,0.356862745098,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0},{"ddd":0,"ind":4,"ty":4,"nm":"“circle-reverse-plus”轮廓 3","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":-360,"ix":10},"p":{"a":0,"k":[100.148,99.656,0],"ix":2,"l":2},"a":{"a":0,"k":[10,10,0],"ix":1,"l":2},"s":{"a":0,"k":[1000,1000,100],"ix":6,"l":2}},"ao":0,"hasMask":true,"masksProperties":[{"inv":false,"mode":"a","pt":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0],[0,0]],"v":[[-0.203,0.41],[-0.203,20.41],[19.797,20.41],[19.797,0.41]],"c":true},"ix":1},"o":{"a":0,"k":100,"ix":3},"x":{"a":0,"k":0,"ix":4},"nm":"蒙版 1"}],"ef":[{"ty":26,"nm":"径向擦除","np":7,"mn":"ADBE Radial Wipe","ix":1,"en":1,"ef":[{"ty":0,"nm":"过渡完成","mn":"ADBE Radial Wipe-0001","ix":1,"v":{"a":0,"k":0,"ix":1}},{"ty":0,"nm":"起始角度","mn":"ADBE Radial Wipe-0002","ix":2,"v":{"a":0,"k":-90,"ix":2}},{"ty":3,"nm":"擦除中心","mn":"ADBE Radial Wipe-0003","ix":3,"v":{"a":0,"k":[100,100],"ix":3}},{"ty":7,"nm":"擦除","mn":"ADBE Radial Wipe-0004","ix":4,"v":{"a":0,"k":2,"ix":4}},{"ty":0,"nm":"羽化","mn":"ADBE Radial Wipe-0005","ix":5,"v":{"a":0,"k":0,"ix":5}}]}],"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[-0.141,-0.14],[-0.199,0],[0,0],[0,0.414],[0.414,0],[0,0],[0,0],[-0.969,0.259],[-0.465,0.002],[-0.014,0],[-0.086,-0.004],[-0.633,-2.362],[-0.03,-0.054],[0,-0.429],[3.038,0],[0.224,2.831],[0.413,-0.033],[-0.032,-0.412],[-3.677,0],[0,3.866],[3.671,0.216],[0.756,-0.203],[0.841,-0.842],[0,0],[0,0],[0.414,0],[0,-0.414]],"o":[[0,0.199],[0.14,0.141],[0,0],[0.414,0],[0,-0.414],[0,0],[0,0],[0.66,-0.661],[0.469,-0.126],[0.014,0.001],[0.087,0],[2.317,0.12],[0.017,0.062],[0.093,0.401],[0,3.038],[-2.889,0],[-0.033,-0.413],[-0.413,0.032],[0.286,3.605],[3.866,0],[0,-3.726],[-0.74,-0.046],[-1.23,0.329],[0,0],[0,0],[0,-0.414],[-0.414,0],[0,0]],"v":[[-6.782,-2.419],[-6.562,-1.889],[-6.032,-1.669],[-1.789,-1.669],[-1.039,-2.419],[-1.789,-3.169],[-4.221,-3.169],[-3.91,-3.48],[-1.444,-4.902],[-0.038,-5.09],[0.005,-5.09],[0.265,-5.083],[5.292,-1.012],[5.363,-0.837],[5.505,0.41],[0.005,5.911],[-5.477,0.852],[-6.284,0.163],[-6.973,0.969],[0.005,7.411],[7.005,0.41],[0.423,-6.577],[-1.833,-6.35],[-4.972,-4.54],[-5.282,-4.23],[-5.281,-6.661],[-6.031,-7.411],[-6.781,-6.661]],"c":true},"ix":2},"nm":"路径 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.886274509804,0.886274509804,0.909803921569,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"填充 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[9.995,9.589],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"变换"}],"nm":"组 1","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":375,"st":0,"ct":1,"bm":0}],"markers":[]}')}}]);
//# sourceMappingURL=86719.ae378e9c6a.chunk.js.map